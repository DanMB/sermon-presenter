const Bn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};Bn();var ve,y,At,Lt,pe,Ot,it,Nt,Se={},Wt=[],Vn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function J(t,e){for(var n in e)t[n]=e[n];return t}function Rt(t){var e=t.parentNode;e&&e.removeChild(t)}function I(t,e,n){var i,r,o,s={};for(o in e)o=="key"?i=e[o]:o=="ref"?r=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?ve.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return fe(t,s,i,r,null)}function fe(t,e,n,i,r){var o={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++At};return r==null&&y.vnode!=null&&y.vnode(o),o}function qe(){return{current:null}}function B(t){return t.children}function z(t,e){this.props=t,this.context=e}function re(t,e){if(e==null)return t.__?re(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?re(t):null}function It(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return It(t)}}function ze(t){(!t.__d&&(t.__d=!0)&&pe.push(t)&&!ke.__r++||it!==y.debounceRendering)&&((it=y.debounceRendering)||Ot)(ke)}function ke(){for(var t;ke.__r=pe.length;)t=pe.sort(function(e,n){return e.__v.__b-n.__v.__b}),pe=[],t.some(function(e){var n,i,r,o,s,l;e.__d&&(s=(o=(n=e).__v).__e,(l=n.__P)&&(i=[],(r=J({},o)).__v=o.__v+1,Ke(l,o,r,n.__n,l.ownerSVGElement!==void 0,o.__h!=null?[s]:null,i,s??re(o),o.__h),Ht(i,o),o.__e!=s&&It(o)))})}function zt(t,e,n,i,r,o,s,l,u,c){var a,h,d,p,g,k,S,C=i&&i.__k||Wt,$=C.length;for(n.__k=[],a=0;a<e.length;a++)if((p=n.__k[a]=(p=e[a])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?fe(null,p,null,null,p):Array.isArray(p)?fe(B,{children:p},null,null,null):p.__b>0?fe(p.type,p.props,p.key,null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(d=C[a])===null||d&&p.key==d.key&&p.type===d.type)C[a]=void 0;else for(h=0;h<$;h++){if((d=C[h])&&p.key==d.key&&p.type===d.type){C[h]=void 0;break}d=null}Ke(t,p,d=d||Se,r,o,s,l,u,c),g=p.__e,(h=p.ref)&&d.ref!=h&&(S||(S=[]),d.ref&&S.push(d.ref,null,p),S.push(h,p.__c||g,p)),g!=null?(k==null&&(k=g),typeof p.type=="function"&&p.__k===d.__k?p.__d=u=Ft(p,u,t):u=Dt(t,p,d,C,g,u),typeof n.type=="function"&&(n.__d=u)):u&&d.__e==u&&u.parentNode!=t&&(u=re(d))}for(n.__e=k,a=$;a--;)C[a]!=null&&(typeof n.type=="function"&&C[a].__e!=null&&C[a].__e==n.__d&&(n.__d=re(i,a+1)),jt(C[a],C[a]));if(S)for(a=0;a<S.length;a++)Ut(S[a],S[++a],S[++a])}function Ft(t,e,n){for(var i,r=t.__k,o=0;r&&o<r.length;o++)(i=r[o])&&(i.__=t,e=typeof i.type=="function"?Ft(i,e,n):Dt(n,i,i,r,i.__e,e));return e}function V(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){V(n,e)}):e.push(t)),e}function Dt(t,e,n,i,r,o){var s,l,u;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(n==null||r!=o||r.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(r),s=null;else{for(l=o,u=0;(l=l.nextSibling)&&u<i.length;u+=2)if(l==r)break e;t.insertBefore(r,o),s=o}return s!==void 0?s:r.nextSibling}function qn(t,e,n,i,r){var o;for(o in n)o==="children"||o==="key"||o in e||Ce(t,o,null,n[o],i);for(o in e)r&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||Ce(t,o,e[o],n[o],i)}function rt(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Vn.test(e)?n:n+"px"}function Ce(t,e,n,i,r){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||rt(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||rt(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?i||t.addEventListener(e,o?at:ot,o):t.removeEventListener(e,o?at:ot,o);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function ot(t){this.l[t.type+!1](y.event?y.event(t):t)}function at(t){this.l[t.type+!0](y.event?y.event(t):t)}function Ke(t,e,n,i,r,o,s,l,u){var c,a,h,d,p,g,k,S,C,$,X,N=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,o=[l]),(c=y.__b)&&c(e);try{e:if(typeof N=="function"){if(S=e.props,C=(c=N.contextType)&&i[c.__c],$=c?C?C.props.value:c.__:i,n.__c?k=(a=e.__c=n.__c).__=a.__E:("prototype"in N&&N.prototype.render?e.__c=a=new N(S,$):(e.__c=a=new z(S,$),a.constructor=N,a.render=Gn),C&&C.sub(a),a.props=S,a.state||(a.state={}),a.context=$,a.__n=i,h=a.__d=!0,a.__h=[]),a.__s==null&&(a.__s=a.state),N.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=J({},a.__s)),J(a.__s,N.getDerivedStateFromProps(S,a.__s))),d=a.props,p=a.state,h)N.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(N.getDerivedStateFromProps==null&&S!==d&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(S,$),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(S,a.__s,$)===!1||e.__v===n.__v){a.props=S,a.state=a.__s,e.__v!==n.__v&&(a.__d=!1),a.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(w){w&&(w.__=e)}),a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(S,a.__s,$),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(d,p,g)})}a.context=$,a.props=S,a.state=a.__s,(c=y.__r)&&c(e),a.__d=!1,a.__v=e,a.__P=t,c=a.render(a.props,a.state,a.context),a.state=a.__s,a.getChildContext!=null&&(i=J(J({},i),a.getChildContext())),h||a.getSnapshotBeforeUpdate==null||(g=a.getSnapshotBeforeUpdate(d,p)),X=c!=null&&c.type===B&&c.key==null?c.props.children:c,zt(t,Array.isArray(X)?X:[X],e,n,i,r,o,s,l,u),a.base=e.__e,e.__h=null,a.__h.length&&s.push(a),k&&(a.__E=a.__=null),a.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Kn(n.__e,e,n,i,r,o,s,u);(c=y.diffed)&&c(e)}catch(w){e.__v=null,(u||o!=null)&&(e.__e=l,e.__h=!!u,o[o.indexOf(l)]=null),y.__e(w,e,n)}}function Ht(t,e){y.__c&&y.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(i){i.call(n)})}catch(i){y.__e(i,n.__v)}})}function Kn(t,e,n,i,r,o,s,l){var u,c,a,h=n.props,d=e.props,p=e.type,g=0;if(p==="svg"&&(r=!0),o!=null){for(;g<o.length;g++)if((u=o[g])&&"setAttribute"in u==!!p&&(p?u.localName===p:u.nodeType===3)){t=u,o[g]=null;break}}if(t==null){if(p===null)return document.createTextNode(d);t=r?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),o=null,l=!1}if(p===null)h===d||l&&t.data===d||(t.data=d);else{if(o=o&&ve.call(t.childNodes),c=(h=n.props||Se).dangerouslySetInnerHTML,a=d.dangerouslySetInnerHTML,!l){if(o!=null)for(h={},g=0;g<t.attributes.length;g++)h[t.attributes[g].name]=t.attributes[g].value;(a||c)&&(a&&(c&&a.__html==c.__html||a.__html===t.innerHTML)||(t.innerHTML=a&&a.__html||""))}if(qn(t,d,h,r,l),a)e.__k=[];else if(g=e.props.children,zt(t,Array.isArray(g)?g:[g],e,n,i,r&&p!=="foreignObject",o,s,o?o[0]:n.__k&&re(n,0),l),o!=null)for(g=o.length;g--;)o[g]!=null&&Rt(o[g]);l||("value"in d&&(g=d.value)!==void 0&&(g!==t.value||p==="progress"&&!g||p==="option"&&g!==h.value)&&Ce(t,"value",g,h.value,!1),"checked"in d&&(g=d.checked)!==void 0&&g!==t.checked&&Ce(t,"checked",g,h.checked,!1))}return t}function Ut(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){y.__e(i,n)}}function jt(t,e,n){var i,r;if(y.unmount&&y.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||Ut(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){y.__e(o,e)}i.base=i.__P=null}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&jt(i[r],e,typeof t.type!="function");n||t.__e==null||Rt(t.__e),t.__e=t.__d=void 0}function Gn(t,e,n){return this.constructor(t,n)}function Q(t,e,n){var i,r,o;y.__&&y.__(t,e),r=(i=typeof n=="function")?null:n&&n.__k||e.__k,o=[],Ke(e,t=(!i&&n||e).__k=I(B,null,[t]),r||Se,Se,e.ownerSVGElement!==void 0,!i&&n?[n]:r?null:e.firstChild?ve.call(e.childNodes):null,o,!i&&n?n:r?r.__e:e.firstChild,i),Ht(o,t)}function Ge(t,e){Q(t,e,Ge)}function Bt(t,e,n){var i,r,o,s=J({},t.props);for(o in e)o=="key"?i=e[o]:o=="ref"?r=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?ve.call(arguments,2):n),fe(t.type,s,i||t.key,r||t.ref,null)}function Je(t,e){var n={__c:e="__cC"+Nt++,__:t,Consumer:function(i,r){return i.children(r)},Provider:function(i){var r,o;return this.getChildContext||(r=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(ze)},this.sub=function(s){r.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),l&&l.call(s)}}),i.children}};return n.Provider.__=n.Consumer.contextType=n}ve=Wt.slice,y={__e:function(t,e,n,i){for(var r,o,s;e=e.__;)if((r=e.__c)&&!r.__)try{if((o=r.constructor)&&o.getDerivedStateFromError!=null&&(r.setState(o.getDerivedStateFromError(t)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),s=r.__d),s)return r.__E=r}catch(l){t=l}throw t}},At=0,Lt=function(t){return t!=null&&t.constructor===void 0},z.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=J({},this.state),typeof t=="function"&&(t=t(J({},n),this.props)),t&&J(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),ze(this))},z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ze(this))},z.prototype.render=B,pe=[],Ot=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ke.__r=0,Nt=0;var Jn=Object.freeze(Object.defineProperty({__proto__:null,render:Q,hydrate:Ge,createElement:I,h:I,Fragment:B,createRef:qe,get isValidElement(){return Lt},Component:z,cloneElement:Bt,createContext:Je,toChildArray:V,get options(){return y}},Symbol.toStringTag,{value:"Module"})),te,A,st,oe=0,Vt=[],lt=y.__b,ct=y.__r,ut=y.diffed,dt=y.__c,pt=y.unmount;function le(t,e){y.__h&&y.__h(A,t,oe||e),oe=0;var n=A.__H||(A.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function T(t){return oe=1,Ye(Jt,t)}function Ye(t,e,n){var i=le(te++,2);return i.t=t,i.__c||(i.__=[n?n(e):Jt(void 0,e),function(r){var o=i.t(i.__[0],r);i.__[0]!==o&&(i.__=[o,i.__[1]],i.__c.setState({}))}],i.__c=A),i.__}function E(t,e){var n=le(te++,3);!y.__s&&Qe(n.__H,e)&&(n.__=t,n.__H=e,A.__H.__h.push(n))}function Xe(t,e){var n=le(te++,4);!y.__s&&Qe(n.__H,e)&&(n.__=t,n.__H=e,A.__h.push(n))}function F(t){return oe=5,Ae(function(){return{current:t}},[])}function qt(t,e,n){oe=6,Xe(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function Ae(t,e){var n=le(te++,7);return Qe(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Kt(t,e){return oe=8,Ae(function(){return t},e)}function Gt(t){var e=A.context[t.__c],n=le(te++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(A)),e.props.value):t.__}function Ze(t,e){y.useDebugValue&&y.useDebugValue(e?e(t):t)}function Yn(t){var e=le(te++,10),n=T();return e.__=t,A.componentDidCatch||(A.componentDidCatch=function(i){e.__&&e.__(i),n[1](i)}),[n[0],function(){n[1](void 0)}]}function Xn(){for(var t;t=Vt.shift();)if(t.__P)try{t.__H.__h.forEach(we),t.__H.__h.forEach(Fe),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){A=null,lt&&lt(t)},y.__r=function(t){ct&&ct(t),te=0;var e=(A=t.__c).__H;e&&(e.__h.forEach(we),e.__h.forEach(Fe),e.__h=[])},y.diffed=function(t){ut&&ut(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(Vt.push(e)!==1&&st===y.requestAnimationFrame||((st=y.requestAnimationFrame)||function(n){var i,r=function(){clearTimeout(o),ft&&cancelAnimationFrame(i),setTimeout(n)},o=setTimeout(r,100);ft&&(i=requestAnimationFrame(r))})(Xn)),A=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(we),n.__h=n.__h.filter(function(i){return!i.__||Fe(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(i,n.__v)}}),dt&&dt(t,e)},y.unmount=function(t){pt&&pt(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{we(i)}catch(r){e=r}}),e&&y.__e(e,n.__v))};var ft=typeof requestAnimationFrame=="function";function we(t){var e=A,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),A=e}function Fe(t){var e=A;t.__c=t.__(),A=e}function Qe(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function Jt(t,e){return typeof e=="function"?e(t):e}function Yt(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),e}var Zn=Yt(Jn),Xt,Zt,Qt,De=Zn,Qn=0;function ht(t,e,n,i,r){var o,s,l={};for(s in e)s=="ref"?o=e[s]:l[s]=e[s];var u={type:t,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Qn,__source:r,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(s in o)l[s]===void 0&&(l[s]=o[s]);return De.options.vnode&&De.options.vnode(u),u}Qt=De.Fragment,Zt=ht,Xt=ht;const f=Zt,x=Xt,ee=Qt,ei=()=>x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[f("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),f("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]});const ti=()=>x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",children:[f("path",{d:"M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z"}),f("path",{d:"M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"})]}),en=()=>f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:f("path",{d:"M421.84 37.37a25.86 25.86 0 00-22.6-4.46L199.92 86.49A32.3 32.3 0 00176 118v226c0 6.74-4.36 12.56-11.11 14.83l-.12.05-52 18C92.88 383.53 80 402 80 423.91a55.54 55.54 0 0023.23 45.63A54.78 54.78 0 00135.34 480a55.82 55.82 0 0017.75-2.93l.38-.13 21.84-7.94A47.84 47.84 0 00208 423.91v-212c0-7.29 4.77-13.21 12.16-15.07l.21-.06L395 150.14a4 4 0 015 3.86v141.93c0 6.75-4.25 12.38-11.11 14.68l-.25.09-50.89 18.11A49.09 49.09 0 00304 375.92a55.67 55.67 0 0023.23 45.8 54.63 54.63 0 0049.88 7.35l.36-.12 21.84-7.95A47.83 47.83 0 00432 375.92V58a25.74 25.74 0 00-10.16-20.63z"})}),ni=({type:t})=>f(en,{});class q{static get(e){const n=localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{console.error(`Failed to parse JSON data for Storage ${e}: `,n)}}static set(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch{console.error(`Failed to parse JSON data for Storage ${e}: `,n)}}static remove(e){localStorage.removeItem(e)}static use(e,n){const[i,r]=T(q.get(e)||n),o=s=>{s.key===e&&r(q.get(e))};return window.addEventListener("storage",o),[i,s=>{q.set(e,s),r(s)}]}}class M{static enabled=!0;static clean(){const e=Date.now();for(var n=0;n<localStorage.length;n++){const i=localStorage.key(n);if(!i)continue;const r=q.get(i);!r||r?.created>0&&r?.expired>0&&r?.value&&r.expired<=e&&q.remove(i)}}static get(e){if(!M.enabled)return;const n=localStorage.getItem(e);if(n)try{const i=JSON.parse(n);if(Date.now()>i.expired){this.remove(e);return}return i.value}catch{console.error(`Failed to parse JSON get data for Cache ${e}: `,n)}}static set(e,n,i=36e3){if(M.enabled)try{const r=Date.now();localStorage.setItem(e,JSON.stringify({value:n,maxAge:i,expired:r+i*1e3,created:r}))}catch{console.error(`Failed to parse JSON save data for Cache ${e}: `,n)}}static remove(e){localStorage.removeItem(e)}static use(e,n){if(!M.enabled)return[n,()=>{}];const[i,r]=T(M.get(e)||n),o=s=>{s.key===e&&r(M.get(e))};return window.addEventListener("storage",o),[i,s=>{M.set(e,s),r(s)}]}}const _t=t=>{let e;const n=new Set,i=(u,c)=>{const a=typeof u=="function"?u(e):u;if(a!==e){const h=e;e=c?a:Object.assign({},e,a),n.forEach(d=>d(e,h))}},r=()=>e,l={setState:i,getState:r,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(i,r,l),l},ii=t=>t?_t(t):_t;function tn(t,e){for(var n in e)t[n]=e[n];return t}function He(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var i in e)if(i!=="__source"&&t[i]!==e[i])return!0;return!1}function Te(t){this.props=t}function nn(t,e){function n(r){var o=this.props.ref,s=o==r.ref;return!s&&o&&(o.call?o(null):o.current=null),e?!e(this.props,r)||!s:He(this.props,r)}function i(r){return this.shouldComponentUpdate=n,I(t,r)}return i.displayName="Memo("+(t.displayName||t.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(Te.prototype=new z).isPureReactComponent=!0,Te.prototype.shouldComponentUpdate=function(t,e){return He(this.props,t)||He(this.state,e)};var mt=y.__b;y.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),mt&&mt(t)};var ri=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function rn(t){function e(n){var i=tn({},n);return delete i.ref,t(i,n.ref||null)}return e.$$typeof=ri,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var vt=function(t,e){return t==null?null:V(V(t).map(e))},on={map:vt,forEach:vt,count:function(t){return t?V(t).length:0},only:function(t){var e=V(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:V},oi=y.__e;y.__e=function(t,e,n,i){if(t.then){for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}oi(t,e,n,i)};var gt=y.unmount;function he(){this.__u=0,this.t=null,this.__b=null}function an(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function sn(t){var e,n,i;function r(o){if(e||(e=t()).then(function(s){n=s.default||s},function(s){i=s}),i)throw i;if(!n)throw e;return I(n,o)}return r.displayName="Lazy",r.__f=!0,r}function ie(){this.u=null,this.o=null}y.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),gt&&gt(t)},(he.prototype=new z).__c=function(t,e){var n=e.__c,i=this;i.t==null&&(i.t=[]),i.t.push(n);var r=an(i.__v),o=!1,s=function(){o||(o=!0,n.__R=null,r?r(l):l())};n.__R=s;var l=function(){if(!--i.__u){if(i.state.__e){var c=i.state.__e;i.__v.__k[0]=function h(d,p,g){return d&&(d.__v=null,d.__k=d.__k&&d.__k.map(function(k){return h(k,p,g)}),d.__c&&d.__c.__P===p&&(d.__e&&g.insertBefore(d.__e,d.__d),d.__c.__e=!0,d.__c.__P=g)),d}(c,c.__c.__P,c.__c.__O)}var a;for(i.setState({__e:i.__b=null});a=i.t.pop();)a.forceUpdate()}},u=e.__h===!0;i.__u++||u||i.setState({__e:i.__b=i.__v.__k[0]}),t.then(s,s)},he.prototype.componentWillUnmount=function(){this.t=[]},he.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function o(s,l,u){return s&&(s.__c&&s.__c.__H&&(s.__c.__H.__.forEach(function(c){typeof c.__c=="function"&&c.__c()}),s.__c.__H=null),(s=tn({},s)).__c!=null&&(s.__c.__P===u&&(s.__c.__P=l),s.__c=null),s.__k=s.__k&&s.__k.map(function(c){return o(c,l,u)})),s}(this.__b,n,i.__O=i.__P)}this.__b=null}var r=e.__e&&I(B,null,t.fallback);return r&&(r.__h=null),[I(B,null,e.__e?null:t.children),r]};var yt=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function ai(t){return this.getChildContext=function(){return t.context},t.children}function si(t){var e=this,n=t.i;e.componentWillUnmount=function(){Q(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(i){this.childNodes.push(i),e.i.appendChild(i)},insertBefore:function(i,r){this.childNodes.push(i),e.i.appendChild(i)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),e.i.removeChild(i)}}),Q(I(ai,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function ln(t,e){return I(si,{__v:t,i:e})}(ie.prototype=new z).__e=function(t){var e=this,n=an(e.__v),i=e.o.get(t);return i[0]++,function(r){var o=function(){e.props.revealOrder?(i.push(r),yt(e,t,i)):r()};n?n(o):o()}},ie.prototype.render=function(t){this.u=null,this.o=new Map;var e=V(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ie.prototype.componentDidUpdate=ie.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){yt(t,n,e)})};var cn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,li=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ci=typeof document<"u",ui=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};function un(t,e,n){return e.__k==null&&(e.textContent=""),Q(t,e),typeof n=="function"&&n(),t?t.__c:null}function dn(t,e,n){return Ge(t,e),typeof n=="function"&&n(),t?t.__c:null}z.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(z.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var bt=y.event;function di(){}function pi(){return this.cancelBubble}function fi(){return this.defaultPrevented}y.event=function(t){return bt&&(t=bt(t)),t.persist=di,t.isPropagationStopped=pi,t.isDefaultPrevented=fi,t.nativeEvent=t};var pn,wt={configurable:!0,get:function(){return this.class}},xt=y.vnode;y.vnode=function(t){var e=t.type,n=t.props,i=n;if(typeof e=="string"){var r=e.indexOf("-")===-1;for(var o in i={},n){var s=n[o];ci&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in n&&s==null||(o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!ui(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():r&&li.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():s===null&&(s=void 0),i[o]=s)}e=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=V(n.children).forEach(function(l){l.props.selected=i.value.indexOf(l.props.value)!=-1})),e=="select"&&i.defaultValue!=null&&(i.value=V(n.children).forEach(function(l){l.props.selected=i.multiple?i.defaultValue.indexOf(l.props.value)!=-1:i.defaultValue==l.props.value})),t.props=i,n.class!=n.className&&(wt.enumerable="className"in n,n.className!=null&&(i.class=n.className),Object.defineProperty(i,"className",wt))}t.$$typeof=cn,xt&&xt(t)};var St=y.__r;y.__r=function(t){St&&St(t),pn=t.__c};var fn={ReactCurrentDispatcher:{current:{readContext:function(t){return pn.__n[t.__c].props.value}}}},hi="17.0.2";function hn(t){return I.bind(null,t)}function et(t){return!!t&&t.$$typeof===cn}function _n(t){return et(t)?Bt.apply(null,arguments):t}function mn(t){return!!t.__k&&(Q(null,t),!0)}function vn(t){return t&&(t.base||t.nodeType===1&&t)||null}var gn=function(t,e){return t(e)},yn=function(t,e){return t(e)},_i=B,mi={useState:T,useReducer:Ye,useEffect:E,useLayoutEffect:Xe,useRef:F,useImperativeHandle:qt,useMemo:Ae,useCallback:Kt,useContext:Gt,useDebugValue:Ze,version:"17.0.2",Children:on,render:un,hydrate:dn,unmountComponentAtNode:mn,createPortal:ln,createElement:I,createContext:Je,createFactory:hn,cloneElement:_n,createRef:qe,Fragment:B,isValidElement:et,findDOMNode:vn,Component:z,PureComponent:Te,memo:nn,forwardRef:rn,flushSync:yn,unstable_batchedUpdates:gn,StrictMode:B,Suspense:he,SuspenseList:ie,lazy:sn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:fn},vi=Object.freeze(Object.defineProperty({__proto__:null,default:mi,version:hi,Children:on,render:un,hydrate:dn,unmountComponentAtNode:mn,createPortal:ln,createFactory:hn,cloneElement:_n,isValidElement:et,findDOMNode:vn,PureComponent:Te,memo:nn,forwardRef:rn,flushSync:yn,unstable_batchedUpdates:gn,StrictMode:_i,Suspense:he,SuspenseList:ie,lazy:sn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:fn,createElement:I,createContext:Je,createRef:qe,Fragment:B,Component:z,useState:T,useReducer:Ye,useEffect:E,useLayoutEffect:Xe,useRef:F,useImperativeHandle:qt,useMemo:Ae,useCallback:Kt,useContext:Gt,useDebugValue:Ze,useErrorBoundary:Yn},Symbol.toStringTag,{value:"Module"})),bn={exports:{}},wn={},xn=Yt(vi),Sn={exports:{}},kn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ae=xn;function gi(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yi=typeof Object.is=="function"?Object.is:gi,bi=ae.useState,wi=ae.useEffect,xi=ae.useLayoutEffect,Si=ae.useDebugValue;function ki(t,e){var n=e(),i=bi({inst:{value:n,getSnapshot:e}}),r=i[0].inst,o=i[1];return xi(function(){r.value=n,r.getSnapshot=e,We(r)&&o({inst:r})},[t,n,e]),wi(function(){return We(r)&&o({inst:r}),t(function(){We(r)&&o({inst:r})})},[t]),Si(n),n}function We(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yi(t,n)}catch{return!0}}function Ci(t,e){return e()}var Ti=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ci:ki;kn.useSyncExternalStore=ae.useSyncExternalStore!==void 0?ae.useSyncExternalStore:Ti;Sn.exports=kn;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=xn,$i=Sn.exports;function Ei(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pi=typeof Object.is=="function"?Object.is:Ei,Mi=$i.useSyncExternalStore,Ai=Le.useRef,Li=Le.useEffect,Oi=Le.useMemo,Ni=Le.useDebugValue;wn.useSyncExternalStoreWithSelector=function(t,e,n,i,r){var o=Ai(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Oi(function(){function u(p){if(!c){if(c=!0,a=p,p=i(p),r!==void 0&&s.hasValue){var g=s.value;if(r(g,p))return h=g}return h=p}if(g=h,Pi(a,p))return g;var k=i(p);return r!==void 0&&r(g,k)?g:(a=p,h=k)}var c=!1,a,h,d=n===void 0?null:n;return[function(){return u(e())},d===null?void 0:function(){return u(d())}]},[e,n,i,r]);var l=Mi(t,o[0],o[1]);return Li(function(){s.hasValue=!0,s.value=l},[l]),Ni(l),l};bn.exports=wn;function Wi(t,e=t.getState,n){const i=bn.exports.useSyncExternalStoreWithSelector(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return Ze(i),i}const kt=t=>{const e=typeof t=="function"?ii(t):t,n=(i,r)=>Wi(e,i,r);return Object.assign(n,e),n},Ri=t=>t?kt(t):kt;var Cn=Ri;const ye={id:null,flush:!1,maxAge:0};class Oe{_store;get zustand(){return this._store}_id=null;_flush=!1;_maxAge=0;constructor(e,{id:n=ye.id,flush:i=ye.flush,maxAge:r=ye.maxAge}=ye){if(this._id=n,this._flush=i,this._maxAge=r,this._id){let o;this._flush||(this._maxAge>0?o=M.get(this._id):o=q.get(this._id)??e),e=o??e,this._maxAge>0?M.set(this._id,e,this._maxAge):q.set(this._id,e)}this._store=Cn(()=>e)}use=(e,n)=>this._store(e,n);get=()=>this._store.getState();set=(e,n)=>{this._store.setState(e,n),this._id&&(this._maxAge>0?M.set(this._id,this._store.getState(),this._maxAge):q.set(this._id,this._store.getState()))};sub=e=>this._store.subscribe(e)}const Ii="ourpres";var zi=(t=>(t[t.TYPE=0]="TYPE",t[t.ID=1]="ID",t[t.SONG=2]="SONG",t[t.SLIDE=3]="SLIDE",t))(zi||{}),Fi=(t=>(t.NEWTAB="newtab",t.SETLIST="setlist",t.PRESENT="present",t))(Fi||{});const G=`${Ii}://newtab`;var Di=(t=>(t.POST="POST",t.GET="GET",t))(Di||{});class Ct{static async get(e){return await this.request("GET",e)}static async post(e){return await this.request("POST",e)}static async request(e,n){return new Promise(async(i,r)=>{let o=new XMLHttpRequest;o.onreadystatechange=()=>{o.readyState==4&&(o.status===200?i(o.responseText):r(o.responseText))},o.open(e,n,!0),o.onerror=s=>{r(s)},o.send()})}}class se{static endpoint="https://europe-west1-ourpraise-fb.cloudfunctions.net/api/";static getEvent=async(e,n=!1)=>{if(!n){const r=M.get(`OurPraise.event.${e}`);if(r)return r}const i=await Ct.get(se.endpoint+"event?id="+e).catch(r=>(console.warn("Error getting events",r),null));if(!i)throw new Error("Got null from event request");try{const r=JSON.parse(i);return M.set(`OurPraise.event.${e}`,r,1800),r}catch{throw new Error("Failed to parse data from event request")}};static getAllEvents=async(e=!1)=>{if(!e){const i=M.get("OurPraise.events");if(i)return i}const n=await Ct.get(se.endpoint+"events").catch(i=>(console.warn("Error getting events",i),null));if(!n)throw new Error("Got null from events request");try{const i=JSON.parse(n);return M.set("OurPraise.events",i,600),i}catch{throw new Error("Failed to parse data from events request")}}}var Tn=(t=>(t.SETLIST="setlist",t.NEWTAB="newtab",t))(Tn||{});class Ne extends Oe{constructor(e){super(e,{id:e.id});const n=e.data;Ne.isSetList(n)&&n.id&&se.getEvent(n.id).then(i=>{i&&this.set({data:i})})}static isSetList(e){return e?.songs}}class Hi extends Oe{map;constructor(){super({tabs:[G],active:G},{id:"tabs"});const e=new Map,n=this.get();let i=!1;for(const r of n.tabs){const o=q.get(r);if(o)e.set(r,new Ne(o));else if(r!==G){const s=this.get().tabs.indexOf(r);s>=0&&(n.tabs=[...this.get().tabs].splice(s,1),i=!0)}}this.get().tabs.includes(this.get().active)||(n.active=G),i&&this.set(n),this.map=e}move=e=>{const n=this.get().tabs;if(e!=="+"&&e!=="-"){let i=e,r=n.length-1;i>r?i=r:i<0&&(i=0);const o=n[i];if(!o)return;this.set({active:o})}else{let i=this.get().tabs.findIndex(o=>o===this.get().active);e==="+"?(i--,i<0&&(i=n.length-1)):(i++,i+1>n.length&&(i=0));const r=n[i];if(!r)return;this.set({active:r})}};remove=e=>{if(!e)return;const n=this.get().tabs.indexOf(e);if(this.map.delete(e),n>=0){const i=[...this.get().tabs];i.splice(n,1),e===this.get().active?this.set({tabs:i,active:G}):this.set({tabs:i})}};getTab=e=>this.map.get(e)}const O=new Hi,me=O.use,$n=t=>x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[f("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});class ge{_store;get store(){return this._store}constructor(e){this._store=Cn(()=>({value:e}))}use=()=>this._store(e=>e.value);get=()=>this._store.getState().value;set=e=>{this._store.setState({value:e})}}const $e=new ge(!1),Ue=new ge(null),je=new ge(null),ue=new ge(!1),de=new ge(!1),Ui=({tab:t})=>{const e=me(s=>s.active),n=je.use(),i=$e.use(),r=t.use(s=>s.id),o=t.use(s=>s.title);return x("div",{class:`HeaderTab ${r===e?"active":""} ${i&&r===n?"live":""}`,"data-id":r,onClick:s=>{s.target?.classList.contains("close")||O.set({active:r})},children:[f("span",{class:"icon",children:f(ni,{})}),f("span",{class:"name",children:o}),f("span",{class:"indicator",children:f(ti,{})}),f("span",{class:"close",onClick:()=>{O.remove(r)},children:f($n,{})})]},r)};var H=(t=>(t.SLIDE="sermon://custom/slide",t.CLEAR="sermon://custom/clear",t.BLACKOUT="sermon://custom/blackout",t.START="sermon://custom/start",t.STOP="sermon://custom/stop",t.OPTIONS="sermon://custom/options",t))(H||{});class R{static dispatch(e,n){var i=new CustomEvent(e,n?{detail:n}:void 0);window.dispatchEvent(i)}static listen(e,n){window.addEventListener(e,n)}static remove(e,n){window.removeEventListener(e,n)}static once(e,n){var i=r=>{n(r),R.remove(e,i)};R.listen(e,i)}}var En=function(t,e){return(En=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])})(t,e)};function Pn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}En(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var W=function(){return(W=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function m(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(c){try{u(i.next(c))}catch(a){o(a)}}function l(c){try{u(i.throw(c))}catch(a){o(a)}}function u(c){var a;c.done?r(c.value):(a=c.value,a instanceof n?a:new n(function(h){h(a)})).then(s,l)}u((i=i.apply(t,e||[])).next())})}function v(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!((r=r.length>0&&r[r.length-1])||a[0]!==6&&a[0]!==2)){s=0;continue}if(a[0]===3&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(a[0]===6&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(h){a=[6,h],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([u,c])}}}function Ee(t,e){e===void 0&&(e=!1);var n=window.crypto.getRandomValues(new Uint32Array(1))[0],i="_".concat(n);return Object.defineProperty(window,i,{value:function(r){return e&&Reflect.deleteProperty(window,i),t?.(r)},writable:!1,configurable:!0}),n}function tt(t,e){return e===void 0&&(e={}),m(this,void 0,void 0,function(){return v(this,function(n){return[2,new Promise(function(i,r){var o=Ee(function(l){i(l),Reflect.deleteProperty(window,"_".concat(s))},!0),s=Ee(function(l){r(l),Reflect.deleteProperty(window,"_".concat(o))},!0);window.__TAURI_IPC__(W({cmd:t,callback:o,error:s},e))})]})})}function ji(t,e){e===void 0&&(e="asset");var n=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?"https://".concat(e,".localhost/").concat(n):"".concat(e,"://").concat(n)}Object.freeze({__proto__:null,transformCallback:Ee,invoke:tt,convertFileSrc:ji});function b(t){return m(this,void 0,void 0,function(){return v(this,function(e){return[2,tt("tauri",t)]})})}function Mn(t,e){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Event",message:{cmd:"unlisten",event:t,eventId:e}})]})})}function Bi(t,e,n){return m(this,void 0,void 0,function(){return v(this,function(i){switch(i.label){case 0:return[4,b({__tauriModule:"Event",message:{cmd:"emit",event:t,windowLabel:e,payload:typeof n=="string"?n:JSON.stringify(n)}})];case 1:return i.sent(),[2]}})})}function An(t,e,n){return m(this,void 0,void 0,function(){var i=this;return v(this,function(r){return[2,b({__tauriModule:"Event",message:{cmd:"listen",event:t,windowLabel:e,handler:Ee(n)}}).then(function(o){return function(){return m(i,void 0,void 0,function(){return v(this,function(s){return[2,Mn(t,o)]})})}})]})})}function Vi(t,e,n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,An(t,e,function(r){n(r),Mn(t,r.id).catch(function(){})})]})})}var Pe,Ln=function(t,e){this.type="Logical",this.width=t,this.height=e},Be=function(){function t(e,n){this.type="Physical",this.width=e,this.height=n}return t.prototype.toLogical=function(e){return new Ln(this.width/e,this.height/e)},t}(),On=function(t,e){this.type="Logical",this.x=t,this.y=e},Me=function(){function t(e,n){this.type="Physical",this.x=e,this.y=n}return t.prototype.toLogical=function(e){return new On(this.x/e,this.y/e)},t}();function qi(){return new Y(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})}function Nn(){return window.__TAURI_METADATA__.__windows.map(function(t){return new Y(t.label,{skip:!0})})}(function(t){t[t.Critical=1]="Critical",t[t.Informational=2]="Informational"})(Pe||(Pe={}));var U,Tt=["tauri://created","tauri://error"],Wn=function(){function t(e){this.label=e,this.listeners=Object.create(null)}return t.prototype.listen=function(e,n){return m(this,void 0,void 0,function(){var i=this;return v(this,function(r){return this._handleTauriEvent(e,n)?[2,Promise.resolve(function(){var o=i.listeners[e];o.splice(o.indexOf(n),1)})]:[2,An(e,this.label,n)]})})},t.prototype.once=function(e,n){return m(this,void 0,void 0,function(){var i=this;return v(this,function(r){return this._handleTauriEvent(e,n)?[2,Promise.resolve(function(){var o=i.listeners[e];o.splice(o.indexOf(n),1)})]:[2,Vi(e,this.label,n)]})})},t.prototype.emit=function(e,n){return m(this,void 0,void 0,function(){var i,r;return v(this,function(o){if(Tt.includes(e)){for(i=0,r=this.listeners[e]||[];i<r.length;i++)(0,r[i])({event:e,id:-1,windowLabel:this.label,payload:n});return[2,Promise.resolve()]}return[2,Bi(e,this.label,n)]})})},t.prototype._handleTauriEvent=function(e,n){return!!Tt.includes(e)&&(e in this.listeners?this.listeners[e].push(n):this.listeners[e]=[n],!0)},t}(),Rn=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Pn(e,t),e.prototype.scaleFactor=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})]})})},e.prototype.innerPosition=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(function(i){var r=i.x,o=i.y;return new Me(r,o)})]})})},e.prototype.outerPosition=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(function(i){var r=i.x,o=i.y;return new Me(r,o)})]})})},e.prototype.innerSize=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(function(i){var r=i.width,o=i.height;return new Be(r,o)})]})})},e.prototype.outerSize=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(function(i){var r=i.width,o=i.height;return new Be(r,o)})]})})},e.prototype.isFullscreen=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})]})})},e.prototype.isMaximized=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})]})})},e.prototype.isDecorated=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})]})})},e.prototype.isResizable=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})]})})},e.prototype.isVisible=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})]})})},e.prototype.theme=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})]})})},e.prototype.center=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})]})})},e.prototype.requestUserAttention=function(n){return m(this,void 0,void 0,function(){var i;return v(this,function(r){return i=null,n&&(i=n===Pe.Critical?{type:"Critical"}:{type:"Informational"}),[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:i}}}})]})})},e.prototype.setResizable=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:n}}}})]})})},e.prototype.setTitle=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:n}}}})]})})},e.prototype.maximize=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})]})})},e.prototype.unmaximize=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})]})})},e.prototype.toggleMaximize=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})]})})},e.prototype.minimize=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})]})})},e.prototype.unminimize=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})]})})},e.prototype.show=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})]})})},e.prototype.hide=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})]})})},e.prototype.close=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})]})})},e.prototype.setDecorations=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:n}}}})]})})},e.prototype.setAlwaysOnTop=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:n}}}})]})})},e.prototype.setSize=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){if(!n||n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:n.type,data:{width:n.width,height:n.height}}}}}})]})})},e.prototype.setMinSize=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){if(n&&n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:n?{type:n.type,data:{width:n.width,height:n.height}}:null}}}})]})})},e.prototype.setMaxSize=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){if(n&&n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:n?{type:n.type,data:{width:n.width,height:n.height}}:null}}}})]})})},e.prototype.setPosition=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){if(!n||n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:n.type,data:{x:n.x,y:n.y}}}}}})]})})},e.prototype.setFullscreen=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:n}}}})]})})},e.prototype.setFocus=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})]})})},e.prototype.setIcon=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof n=="string"?n:Array.from(n)}}}}})]})})},e.prototype.setSkipTaskbar=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:n}}}})]})})},e.prototype.setCursorGrab=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:n}}}})]})})},e.prototype.setCursorVisible=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:n}}}})]})})},e.prototype.setCursorIcon=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:n}}}})]})})},e.prototype.setCursorPosition=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){if(!n||n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:n.type,data:{x:n.x,y:n.y}}}}}})]})})},e.prototype.startDragging=function(){return m(this,void 0,void 0,function(){return v(this,function(n){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})]})})},e.prototype.onResized=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,this.listen("tauri://resize",n)]})})},e.prototype.onMoved=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,this.listen("tauri://move",n)]})})},e.prototype.onCloseRequested=function(n){return m(this,void 0,void 0,function(){var i=this;return v(this,function(r){return[2,this.listen("tauri://close-requested",function(o){var s=new In(o);Promise.resolve(n(s)).then(function(){if(!s.isPreventDefault())return i.close()})})]})})},e.prototype.onFocusChanged=function(n){return m(this,void 0,void 0,function(){var i,r;return v(this,function(o){switch(o.label){case 0:return[4,this.listen("tauri://focus",function(s){n(W(W({},s),{payload:!0}))})];case 1:return i=o.sent(),[4,this.listen("tauri://blur",function(s){n(W(W({},s),{payload:!1}))})];case 2:return r=o.sent(),[2,function(){i(),r()}]}})})},e.prototype.onScaleChanged=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,this.listen("tauri://scale-change",n)]})})},e.prototype.onMenuClicked=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,this.listen("tauri://menu",n)]})})},e.prototype.onFileDropEvent=function(n){return m(this,void 0,void 0,function(){var i,r,o;return v(this,function(s){switch(s.label){case 0:return[4,this.listen("tauri://file-drop",function(l){n(W(W({},l),{payload:{type:"drop",paths:l.payload}}))})];case 1:return i=s.sent(),[4,this.listen("tauri://file-drop-hover",function(l){n(W(W({},l),{payload:{type:"hover",paths:l.payload}}))})];case 2:return r=s.sent(),[4,this.listen("tauri://file-drop-cancelled",function(l){n(W(W({},l),{payload:{type:"cancel"}}))})];case 3:return o=s.sent(),[2,function(){i(),r(),o()}]}})})},e.prototype.onThemeChanged=function(n){return m(this,void 0,void 0,function(){return v(this,function(i){return[2,this.listen("tauri://theme-changed",n)]})})},e}(Wn),In=function(){function t(e){this._preventDefault=!1,this.event=e.event,this.windowLabel=e.windowLabel,this.id=e.id}return t.prototype.preventDefault=function(){this._preventDefault=!0},t.prototype.isPreventDefault=function(){return this._preventDefault},t}(),Y=function(t){function e(n,i){i===void 0&&(i={});var r=t.call(this,n)||this;return i?.skip||b({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:W({label:n},i)}}}).then(function(){return m(r,void 0,void 0,function(){return v(this,function(o){return[2,this.emit("tauri://created")]})})}).catch(function(o){return m(r,void 0,void 0,function(){return v(this,function(s){return[2,this.emit("tauri://error",o)]})})}),r}return Pn(e,t),e.getByLabel=function(n){return Nn().some(function(i){return i.label===n})?new e(n,{skip:!0}):null},e}(Rn);function zn(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}})]})})}function Ki(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}})]})})}function Fn(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}})]})})}"__TAURI_METADATA__"in window?U=new Y(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),U=new Y("main",{skip:!0}));Object.freeze({__proto__:null,WebviewWindow:Y,WebviewWindowHandle:Wn,WindowManager:Rn,CloseRequestedEvent:In,getCurrent:qi,getAll:Nn,get appWindow(){return U},LogicalSize:Ln,PhysicalSize:Be,LogicalPosition:On,PhysicalPosition:Me,get UserAttentionType(){return Pe},currentMonitor:zn,primaryMonitor:Ki,availableMonitors:Fn});function Gi(){return navigator.appVersion.includes("Win")}var Ji=Gi()?`\r
`:`
`;function Yi(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Os",message:{cmd:"platform"}})]})})}function Xi(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Os",message:{cmd:"version"}})]})})}function Dn(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Os",message:{cmd:"osType"}})]})})}function Zi(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Os",message:{cmd:"arch"}})]})})}function Qi(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"Os",message:{cmd:"tempdir"}})]})})}Object.freeze({__proto__:null,EOL:Ji,platform:Yi,version:Xi,type:Dn,arch:Zi,tempdir:Qi});var P=(t=>(t.PRESENT="sermon://event/present",t.STYLE="sermon://event/style",t.CLEAR="sermon://event/clear",t.STOPPED="sermon://event/stopped",t.LOADED="sermon://event/loaded",t.BLACKOUT="sermon://custom/blackout",t.SETFOCUS="sermon://custom/focus",t))(P||{});function Hn(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"App",message:{cmd:"getAppVersion"}})]})})}function er(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"App",message:{cmd:"getAppName"}})]})})}function Un(){return m(this,void 0,void 0,function(){return v(this,function(t){return[2,b({__tauriModule:"App",message:{cmd:"getTauriVersion"}})]})})}Object.freeze({__proto__:null,getName:er,getVersion:Hn,getTauriVersion:Un});class L{static isTau=void 0;static versions={tauri:"",client:window.__VERSION__,app:""};static async init(){return new Promise((e,n)=>{typeof window.__TAURI__<"u"&&window.__TAURI__?(L.isTau=!0,this.setup().then(()=>{e()}).catch(()=>{n()})):(L.isTau=!1,this.setup(),n())})}static setup=async()=>{M.enabled=!0,L.isTau&&(this.versions.tauri=await Un(),this.versions.app=await Hn(),setTimeout(async()=>{U.show(),U.label==="control"&&tt("close_splash")},800))};static destroy=()=>{};static getLabel=()=>{let e="control";if(L.isTau)U.label&&(e=U.label);else{const n=new URLSearchParams(window.location.search).get("label");n&&(e=n)}return e}}class tr{static settingsToString(e){const n=e;return Object.keys(e).map(i=>{n[i];let r=`${i}=${n[i]}`;return i==="top"?r+=`,screenY=${n[i]}`:i==="left"?r+=`,screenX=${n[i]}`:i==="width"?r+=`,innerWidth=${n[i]}`:i==="height"&&(r+=`,innerHeight=${n[i]}`),r}).join(",")+",popup=1"}}const _e={font:"'Fira Sans', sans-serif",scale:1,background:null,foreground:"#ffffff",autoScale:!0,position:.5};class nr extends Oe{_keys;get keys(){return this._keys}constructor(){super(_e,{id:"settings_0"});function e(n,i){return{...n,[i]:{key:i,type:typeof _e[i]}}}this._keys=Object.keys(_e).reduce(e,{})}}const D=new nr;class j{static _instance=null;static get(){return this._instance}_window=null;get webview(){return this._window}_unlistenWindowClose=()=>null;_unlistenAppClose=()=>null;_unlistenStyleSet=()=>null;_native=null;_current="";get current(){return this._current}constructor(){if(j._instance!==null&&j._instance.close(),de.set(!0),ue.set(!0),R.listen(H.SLIDE,this.onSlideEvent),R.listen(H.STOP,this.onStopShow),L.isTau)this._window=new Y("present",{fileDropEnabled:!1,focus:!1,minHeight:300,minWidth:500,title:"OurPresenter",visible:!1,decorations:!1,skipTaskbar:!1,resizable:!0,url:window.location.origin+window.location.pathname}),this._window.once("tauri://created",this.init),this._window.once("tauri://error",e=>{console.error(e),this.close()});else{const e=new URLSearchParams;e.set("label","present"),this._native=window.open(`${window.location.pathname}?${e.toString()}`,"present",tr.settingsToString({width:500,height:500,location:!1,menubar:!1,resizable:!0,scrollbars:!1,status:!1,toolbar:!1,top:-500,left:-500,fullscreen:!0})),this._native&&(this._native.addEventListener("beforeunload",()=>{this.destroy()}),this.updateStyle())}j._instance=this,$e.set(!0)}onSlideEvent=e=>{if(!e.detail){Ue.set(null),je.set(null);return}this._current=e.detail;const n=e.detail?e.detail.split("/"):[],i=n[0]?O.getTab(n[0]):void 0,r=n[1]&&i?i.get().data.songs.find(s=>s.title===n[1]):null,o=n[2]&&r?r.slides[parseInt(n[2])]:null;this.set(o),Ue.set(e.detail||null),je.set(i?.get().id||null)};init=async()=>{if(this.style(D.get()),this._unlistenStyleSet=D.sub(this.style),!this._window)return;this._unlistenAppClose=await U.onCloseRequested(this.close),this._unlistenWindowClose=await this._window.onCloseRequested(this.destroy);const e=await Fn(),n=await zn();if(e.length<=0||!n){console.log("no monitors"),this.close();return}const i=e.find(r=>r.name!==n.name);if(!i){console.log("no 2nd monitor");return}await this._window.setPosition(new Me(i.position.x,i.position.y)),await this._window.maximize(),await Dn()==="Darwin"&&await this._window.setFullscreen(!0),this.updateStyle()};set=async e=>{de.set(!1),ue.set(!1),this._window?await this._window.emit(P.PRESENT,e):this._native&&this._native.postMessage({event:P.PRESENT,payload:JSON.stringify(e)},window.location.origin)};_styleUpdateTimeout;updateStyle=()=>{this._styleUpdateTimeout&&clearTimeout(this._styleUpdateTimeout),this._styleUpdateTimeout=setTimeout(()=>{this.style(D.get())},600)};style=async e=>{this._window?await this._window.emit(P.STYLE,e):this._native&&this._native.postMessage({event:P.STYLE,payload:JSON.stringify(e)},window.location.origin)};clear=async()=>{de.set(!de.get()),this._window?await this._window.emit(P.CLEAR):this._native&&this._native.postMessage({event:P.CLEAR},window.location.origin)};blackout=async()=>{ue.set(!ue.get()),this._window?await this._window.emit(P.BLACKOUT):this._native&&this._native.postMessage({event:P.BLACKOUT},window.location.origin)};onStopShow=()=>{this.close()};close=()=>{this.destroy(),this._window&&this._window.close(),this._native&&this._native.close()};destroy=()=>{this._unlistenWindowClose(),this._unlistenAppClose(),this._unlistenStyleSet(),R.remove(H.SLIDE,this.onSlideEvent),R.remove(H.STOP,this.onStopShow),U.emit(P.STOPPED),$e.set(!1)}}const ir=/^Digit\d+$/i,rr=()=>{const t=me(s=>s.tabs),e=me(s=>s.active),n=$e.use(),i=ue.use(),r=de.use(),o=s=>{if(s.ctrlKey){if(s.key==="Tab")s.preventDefault(),s.shiftKey?O.move("-"):O.move("+");else if(ir.test(s.code)){s.preventDefault();let l=parseInt(s.key)-1;l===-1&&(l=9),O.move(l)}}};return E(()=>(window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}),[]),x("div",{class:"Header",children:[x("div",{class:"nav",children:[f("div",{class:"tabs",children:t.map(s=>{const l=O.getTab(s);return!l||s===G?null:f(Ui,{tab:l},s)})}),f("div",{class:`add ${e.toString()===G?"active":""}`,onClick:()=>{O.set({active:G})},children:f(ei,{})})]}),x("div",{class:"control",children:[f("div",{class:`stateButton ${n?i?"active":"":"disabled"}`,onClick:()=>{j.get()?.blackout()},children:f("span",{children:"BL"})}),f("div",{class:`stateButton ${n?i?"pen active":r?"active":"":"disabled"}`,onClick:()=>{j.get()?.clear()},children:f("span",{children:"CL"})}),f("div",{class:`present ${n?"isPresenting":""}`,onClick:()=>{n?R.dispatch(H.STOP):R.dispatch(H.START)},children:f("span",{children:n?"Stop":"Start"})})]})]})};class $t{static now=new Date;static hasPassed(e,n=!1){if(n)return this.now.getTime()>e.getTime();const i=new Date(e);i.setHours(0,0,0,0);const r=new Date;return r.setHours(0,0,0,0),r.getTime()>i.getTime()}static Full(e){let n=e.toLocaleString("da-DK",{month:"short",day:"2-digit",year:"numeric"}),i=/[a-z]+/i.exec(n);return i&&(n=n.replace(i[0],this.capitalize(i[0]))),n.replaceAll(/\. /g," ")}static capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}static getMonthNum(e){return e.getFullYear()*12+e.getMonth()}}const or=()=>f("svg",{class:"spinner",viewBox:"0 0 50 50",children:f("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none","stroke-width":"5"})}),ar=()=>{const t=async i=>{const r=i.currentTarget,o=r?.getAttribute("data-id");if(!o)return;const s=await se.getEvent(o,!0);if(!s)return;const l=r?.querySelector(".evTitle")?.innerHTML;if(!l)return;const u=`tab.ourpraise.${o}`;O.map.has(u)?O.set({active:u}):(O.map.set(u,new Ne({id:u,title:l,data:s,type:Tn.SETLIST,active:""})),O.set({tabs:[...O.get().tabs,u],active:u}))},[e,n]=T([]);return E(()=>{const i=(o,s=!0)=>{const l=o.reduce((c,a)=>((c[a.organisationName]=c[a.organisationName]||[]).push(a),c),{}),u=Object.values(l).map(c=>{const a=c[0];return{events:c.slice(0,5),loading:s,name:a.organisationName}});u.sort((c,a)=>c.name.localeCompare(a.name)),n(u)},r=M.get("OurPraise.events");r&&i(r,!1),se.getAllEvents().then(i)},[]),x("div",{class:"page NewTab",children:[f("div",{class:"title",children:"OurPresenter"}),f("div",{class:"events",children:e.map(i=>x("div",{class:"org",children:[x("div",{class:"orgName",children:[f("span",{children:i.name}),!i.loading&&f(or,{})]}),i.events.map(r=>{const o=new Date(r.date);return x("div",{class:`event ${$t.hasPassed(o)&&"passed"}`,"data-id":r.id,onClick:t,children:[f("span",{class:"evTitle",children:r.title||"NULL"}),f("span",{class:"evDate",children:$t.Full(o)}),f("span",{class:"evLength",children:r.songs})]},r.id)})]},i.name))}),x("div",{class:"footer",children:[x("span",{children:["ver ",L.versions.client]}),L.isTau?x("span",{children:[L.versions.tauri," / ",L.versions.app]}):f(ee,{})]})]})};const sr=/[^\S\r\n]{2,}/g,lr=/\r?\n/;function jn(t){return t.replace(sr," ")}function cr(t,e,n){const i=(n??document.createElement("canvas")).getContext("2d");if(!i)return-1;i.font=e;const r=t.split(lr);let o=0;for(const s of r){const l=i.measureText(s);l.width>o&&(o=l.width)}return o}function xe(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)}function ur(t=document.body){const e=xe(t,"font-weight")||"normal",n=xe(t,"font-size")||"16px",i=xe(t,"font-family")||"Times New Roman";return`${e} ${n} ${i}`}const dr=({slide:t,listId:e,songId:n,index:i,...r})=>{const o=me(h=>h.active),s=Ue.use(),[l,u]=T({key:void 0,shift:!1,id:`${i}`}),[c,a]=T(!1);return E(()=>{let h=i+1,d=!1;h>10&&(d=!0,h-=10),h===10&&(h=0),h>10&&(h=void 0),u({key:h,shift:d,id:`${e}/${n}/${i}`})},[e,n,i]),E(()=>{},[o]),x("div",{...r,id:l.id,tabIndex:-1,role:"listitem",class:`slide ${s===l.id?"active":c?"subActive":""}`,children:[l.key!==void 0&&x("div",{class:"hotkey",children:[l.shift?f("li",{}):f(ee,{}),l.key]}),f("div",{class:"preview",children:f("div",{class:"textContent",children:f("div",{class:"inner",children:jn(t)})})})]})},pr=/^Digit\d+$/i,fr=({song:t,index:e,listId:n})=>{const i=F(null),r=F(null);E(()=>{const l=i.current?[...i.current.children].filter(a=>a.getAttribute("role")==="listitem"&&a.getAttribute("tabindex")==="-1"):[],u=(a,h=!1)=>{const d=document.activeElement;if(i.current){if(!d||r.current===d){let p=0;a===-1&&(p=l.length-1),l[p]&&l[p]?.focus();return}if(!(d&&!i.current.contains(d)))for(let p=0;p<l.length;p++){const g=l[p];if(g===d||g?.contains(d)){let k=p+a;h?a===1?k=l.length-1:k=0:k>=l.length?k=0:k<0&&(k=l.length-1),l[k]?.focus();break}}}},c=a=>{if(i.current){if((a.key==="ArrowUp"||a.key==="ArrowLeft")&&!a.ctrlKey)a.preventDefault(),u(-1);else if((a.key==="ArrowDown"||a.key==="ArrowRight")&&!a.ctrlKey)a.preventDefault(),u(1);else if(a.key==="Home"||(a.key==="ArrowUp"||a.key==="ArrowLeft")&&a.ctrlKey)a.preventDefault(),u(-1,!0);else if(a.key==="End"||(a.key==="ArrowDown"||a.key==="ArrowRight")&&a.ctrlKey)a.preventDefault(),u(1,!0);else if(pr.test(a.code)){let h=parseInt(a.key)-1;h===-1&&(h=9),a.shiftKey&&(h=10),h>l.length-1&&(h=l.length-1),h<0&&(h=0);const d=l[h];d&&(d==document.activeElement?d.click():d.focus())}}};return r.current&&r.current.addEventListener("keydown",c),function(){r.current&&r.current.removeEventListener("keydown",c)}},[]);const o=l=>{R.dispatch(H.SLIDE,l.currentTarget.id)},s=l=>{j.get()?.current!==l.currentTarget.id&&R.dispatch(H.SLIDE,l.currentTarget.id)};return x("div",{class:"SongComponent",ref:r,tabIndex:0,role:"list",children:[x("div",{class:"title",children:[e&&`#${e} `,t.title]}),f("div",{class:"slides",ref:i,children:t.slides.map((l,u)=>f(dr,{slide:l,index:u,listId:n,songId:t.title,onClick:o,onFocus:s},`${t.title}_sld${u}`))})]})},hr=({id:t})=>{const e=O.getTab(t);if(!e)return null;const n=e.use(i=>i.data);return f("div",{class:"page SongsGroup",children:n.songs.map((i,r)=>f(fr,{song:i,listId:t,index:r+1},i.title))},`${t}/group`)};const _r={sidebarWidth:200,sidebar:null};class mr extends Oe{constructor(){super(_r,{id:"settings"})}}const Z=new mr,Et=({id:t,icon:e})=>{const n=Z.use(i=>i.sidebar);return f("div",{class:`SidebarTab ${t===n?"active":""}`,"data-id":t,onClick:()=>{Z.set({sidebar:t===n?null:t})},children:e},t)},vr=()=>x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[f("circle",{cx:"12",cy:"12",r:"3"}),f("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});const nt=({className:t,label:e,defaultValue:n,onChange:i,inputRef:r,type:o,autoComplete:s="off",...l})=>{const[u,c]=T(n??"");return E(()=>{i&&i(u)},[u]),f("input",{...l,class:`Input ${t}`,autoComplete:s??"off",type:o??"text",ref:r,value:u,"aria-label":e,onChange:a=>{c(a?.target?.value??"")},onKeyUp:a=>{c(a?.target?.value??"")}})},gr=({className:t,label:e,defaultValue:n,onChange:i,inputRef:r,type:o,...s})=>{const[l,u]=T(n??!1);return E(()=>{i&&i(l)},[l]),x("div",{className:"CheckboxInput",children:[f("input",{...s,class:`Input ${t}`,type:"checkbox",ref:r,checked:l,"aria-label":e,onChange:c=>{u(c?.target?.checked??!1)},onKeyUp:c=>{u(c?.target?.checked??!1)}}),f("label",{className:"CustomCheckbox",for:s.id})]})},yr=({className:t,label:e,defaultValue:n,onChange:i,inputRef:r,type:o="text",options:s,...l})=>{const[u,c]=T(s.find(a=>a.value===n||a.selected)?.value??(o==="number"?0:""));return E(()=>{i&&i(u)},[u]),f("select",{...l,class:`Input ${t}`,ref:r,"aria-label":e,onChange:a=>{c(a?.target?.value??"")},children:s.map(a=>a.label?I("option",{...a,key:a.value,selected:a.value===u},a.label):null)})},br=t=>x("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[f("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),f("polyline",{points:"17 8 12 3 7 8"}),f("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),wr=({className:t,defaultValue:e,onChange:n,acceptFiles:i,...r})=>{const[o,s]=T(e??null),l=F(null),u=F(null),c=F(new FileReader);E(()=>{n&&n(o)},[o]),E(()=>(c.current.addEventListener("load",h),function(){c.current.removeEventListener("load",h)}),[c]);const a=p=>{p.preventDefault(),l.current=null,s(null)},h=p=>{p.target?.result&&l.current?s({lastModified:l.current?.lastModified,name:l.current?.name,type:l.current?.type,data:p.target?.result}):s(null)},d=()=>{c.current&&u.current?.files&&u.current?.files[0]?(l.current=u.current?.files[0],c.current.readAsDataURL(l.current)):l.current=null};return x("div",{className:"FileInput",children:[f(nt,{...r,inputRef:u,type:"file",accept:i??"image/jpeg, image/png, image/jpg",value:o?.name,"data-value":o?.name??"none",onChange:d}),x("label",{className:"CustomFile",for:r.id,children:[f(br,{}),f("span",{children:o?.name??"No file chosen"}),f($n,{className:"clear",onClick:a})]})]})},ne=({setting:t,id:e,title:n,type:i="text",options:r,acceptFiles:o,...s})=>{const l=D.use(d=>d[t.key]),u=i==="checkbox"?gr:nt,c=e??n.toLowerCase().replaceAll(/\W+/g,"-"),a=_e[t.key],h=d=>{D.set(()=>{let p=d;return i==="number"?p=parseFloat(d):i==="checkbox"?p=d??a:p=d||a,{[t.key]:p}}),j.get()?.updateStyle()};return x("div",{class:"SettingComponent",children:[f("label",{for:c,children:n}),o?f(wr,{label:n,id:c,defaultValue:l,placeholder:a,onChange:h,acceptFiles:o,...s}):r?f(yr,{label:n,id:c,defaultValue:l,placeholder:a,onChange:h,options:r,...s}):f(u,{label:n,id:c,type:i,defaultValue:l,placeholder:a,onChange:h,...s})]})},xr=()=>x("div",{class:"SettingsModule",children:[f("div",{class:"title",children:"Settings"}),f(ne,{title:"Background",type:"file",acceptFiles:"image/jpeg, image/png, image/jpg",setting:D.keys.background}),f(ne,{title:"Font",setting:D.keys.font}),f(ne,{title:"Foreground",setting:D.keys.foreground}),f(ne,{title:"Scale",type:"number",step:"0.1",min:"0.1",max:"5",setting:D.keys.scale}),f(ne,{title:"Auto-scale text down",type:"checkbox",setting:D.keys.autoScale}),f(ne,{title:"Text position",type:"number",step:"0.1",min:"0",max:"1",setting:D.keys.position})]});const Sr=({className:t,defaultValue:e,onChange:n,...i})=>{const[r,o]=T(e??""),s=F(null);return E(()=>{n&&(s.current&&clearTimeout(s),s.current=setTimeout(()=>{n(r)},350))},[r]),E(()=>function(){s.current&&clearTimeout(s)},[]),f(nt,{...i,class:`SearchInput ${t}`,value:r,onChange:l=>o(l.trim())})},kr=()=>{const t=e=>{};return x("div",{class:"AddMusicModule",children:[f("div",{class:"title",children:"Songs"}),f(Sr,{label:"Search songs",placeholder:"Search songs",onChange:t})]})},Cr=()=>{const t=Z.use(l=>l.sidebar),e=Z.use(l=>l.sidebarWidth),n=F(0),i=F(!1),r=()=>{i.current=!0},o=()=>{i.current=!1,n.current=0},s=l=>{if(!i.current)return;let u=Z.get().sidebarWidth+l.movementX;u<100&&(u=100),u>800&&(u=800),Z.set({sidebarWidth:u})};return E(()=>(document.addEventListener("mouseup",o),document.addEventListener("mousemove",s,!1),function(){document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",s,!1),Z.set({sidebarWidth:e})}),[]),x("div",{class:"Sidebar",children:[x("div",{class:"tabs",children:[f(Et,{id:"music",icon:f(en,{})}),f(Et,{id:"settings",icon:f(vr,{})})]}),t?x("div",{class:"content",style:{width:`${e}px`},children:[t==="settings"?f(xr,{}):t==="music"?f(kr,{}):f(ee,{}),f("div",{class:"resizer",onMouseDown:r,onMouseUp:o,onMouseMove:s})]}):f(ee,{})]})},Tr=()=>{const t=me(i=>i.active),e=i=>{i.key==="Escape"&&(i.preventDefault(),i.shiftKey?j.get()?.blackout():j.get()?.clear())},n=()=>{new j};return E(()=>(window.addEventListener("keydown",e),R.listen(H.START,n),function(){window.removeEventListener("keydown",e),R.remove(H.START,n)}),[]),x("div",{class:"Control",children:[f(Cr,{}),x("div",{class:"main",children:[f(rr,{}),t==G?f(ar,{}):f(hr,{id:t})]})]})};const $r=/\r?\n/,Er=({text:t,fontSize:e,parentRef:n,autoScale:i=!0})=>{const[r,o]=T(1),[s,l]=T(""),u=F(null);return E(()=>{if(u.current){const c=n??u.current.parentElement;if(c){const a=getComputedStyle(c),h=c.clientWidth,d=parseInt(a.maxHeight)-parseInt(a.marginTop)-parseInt(a.marginBottom),p=t.split($r).length,g=parseInt(xe(u.current,"line-height")||"1.2em"),k=cr(t,ur(u.current)),S=g*p;let C=1;if(k>h){const $=h/k;$<C&&(C=$)}if(S>d){const $=d/S;$<C&&(C=$)}o(C),l(t)}}},[t]),f("div",{class:"text",ref:u,style:{transform:`scale(${i?r:1})`,fontSize:e,whiteSpace:i?"pre":"pre-wrap"},children:s})},Pr=({data:t,style:e})=>{if(!t)return null;const n=(o,s,l)=>Math.min(Math.max(o,s),l),i=F(null),r=n(e.position,0,1);return f("div",{class:"PresentWrapper",style:{backgroundImage:e.background?`url(${e.background.data})`:null},children:f("div",{class:"PresentingContent",ref:i,style:{color:e.foreground,fontFamily:e.font,marginTop:r>.5?"auto":null,minHeight:`${100-100*Math.abs(r-.5)}vh`},children:f(Er,{text:jn(t),fontSize:`${n(e.scale,.1,5)}em`,parentRef:i.current,autoScale:e.autoScale})})})},Mr=()=>{const[t,e]=T(null),[n,i]=T(_e),[r,o]=T(!0),[s,l]=T(!0);return E(()=>{const u=w=>{const K=L.isTau?w.payload:w.payload?JSON.parse(w.payload):null;(K!==null||K!=="")&&(o(!1),l(!1)),e(K)},c=w=>{const K=w.payload?JSON.parse(w.payload):null;K&&i(K)},a=()=>{o(w=>!w)},h=()=>{l(w=>!w)},d=w=>{!L.isTau||U.setAlwaysOnTop(w?.payload??!1)},p=w=>{if(L.isTau&&w.payload){const K=Y.getByLabel("control");K&&K.setFocus()}};let g=()=>null,k=()=>null,S=()=>null,C=()=>null,$=()=>null,X=()=>null;const N=w=>{w.data.event===P.PRESENT?u(w.data):w.data.event===P.STYLE?c(w.data):w.data.event===P.CLEAR?a():w.data.event===P.BLACKOUT&&h()};return(async()=>{if(L.isTau){const w=Y.getByLabel("control");w&&(g=await w.listen(P.PRESENT,u),k=await w.listen(P.STYLE,c),S=await w.listen(P.CLEAR,a),C=await w.listen(P.BLACKOUT,h),$=await w.onFocusChanged(d),X=await U.onFocusChanged(p))}else window.addEventListener("message",N,!1),g=()=>window.removeEventListener("message",N)})(),function(){g(),k(),S(),C(),$(),X()}},[]),!t||s||r?f("div",{class:"PresentWrapper",style:{backgroundImage:s||!n.background?null:`url(${n.background.data})`},children:f("div",{class:"Present"})}):f(Pr,{data:t,style:n})};try{self["workbox:window:6.5.2"]&&_()}catch{}function Ve(t,e){return new Promise(function(n){var i=new MessageChannel;i.port1.onmessage=function(r){n(r.data)},t.postMessage(e,[i.port2])})}function Ar(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Pt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Lr(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(r,o){if(r){if(typeof r=="string")return Pt(r,o);var s=Object.prototype.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Pt(r,o):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var Re=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function Ie(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var ce=function(t,e){this.type=t,Object.assign(this,e)};function be(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function Or(){}var Nr={type:"SKIP_WAITING"};function Mt(t,e){if(!e)return t&&t.then?t.then(Or):Promise.resolve()}var Wr=function(t){var e,n;function i(l,u){var c,a;return u===void 0&&(u={}),(c=t.call(this)||this).nn={},c.tn=0,c.rn=new Re,c.en=new Re,c.on=new Re,c.un=0,c.an=new Set,c.cn=function(){var h=c.fn,d=h.installing;c.tn>0||!Ie(d.scriptURL,c.sn.toString())||performance.now()>c.un+6e4?(c.vn=d,h.removeEventListener("updatefound",c.cn)):(c.hn=d,c.an.add(d),c.rn.resolve(d)),++c.tn,d.addEventListener("statechange",c.ln)},c.ln=function(h){var d=c.fn,p=h.target,g=p.state,k=p===c.vn,S={sw:p,isExternal:k,originalEvent:h};!k&&c.mn&&(S.isUpdate=!0),c.dispatchEvent(new ce(g,S)),g==="installed"?c.wn=self.setTimeout(function(){g==="installed"&&d.waiting===p&&c.dispatchEvent(new ce("waiting",S))},200):g==="activating"&&(clearTimeout(c.wn),k||c.en.resolve(p))},c.dn=function(h){var d=c.hn,p=d!==navigator.serviceWorker.controller;c.dispatchEvent(new ce("controlling",{isExternal:p,originalEvent:h,sw:d,isUpdate:c.mn})),p||c.on.resolve(d)},c.gn=(a=function(h){var d=h.data,p=h.ports,g=h.source;return be(c.getSW(),function(){c.an.has(g)&&c.dispatchEvent(new ce("message",{data:d,originalEvent:h,ports:p,sw:g}))})},function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];try{return Promise.resolve(a.apply(this,h))}catch(p){return Promise.reject(p)}}),c.sn=l,c.nn=u,navigator.serviceWorker.addEventListener("message",c.gn),c}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o,s=i.prototype;return s.register=function(l){var u=(l===void 0?{}:l).immediate,c=u!==void 0&&u;try{var a=this;return function(h,d){var p=h();return p&&p.then?p.then(d):d(p)}(function(){if(!c&&document.readyState!=="complete")return Mt(new Promise(function(h){return window.addEventListener("load",h)}))},function(){return a.mn=Boolean(navigator.serviceWorker.controller),a.yn=a.pn(),be(a.bn(),function(h){a.fn=h,a.yn&&(a.hn=a.yn,a.en.resolve(a.yn),a.on.resolve(a.yn),a.yn.addEventListener("statechange",a.ln,{once:!0}));var d=a.fn.waiting;return d&&Ie(d.scriptURL,a.sn.toString())&&(a.hn=d,Promise.resolve().then(function(){a.dispatchEvent(new ce("waiting",{sw:d,wasWaitingBeforeRegister:!0}))}).then(function(){})),a.hn&&(a.rn.resolve(a.hn),a.an.add(a.hn)),a.fn.addEventListener("updatefound",a.cn),navigator.serviceWorker.addEventListener("controllerchange",a.dn),a.fn})})}catch(h){return Promise.reject(h)}},s.update=function(){try{return this.fn?Mt(this.fn.update()):void 0}catch(l){return Promise.reject(l)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(l){try{return be(this.getSW(),function(u){return Ve(u,l)})}catch(u){return Promise.reject(u)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Ve(this.fn.waiting,Nr)},s.pn=function(){var l=navigator.serviceWorker.controller;return l&&Ie(l.scriptURL,this.sn.toString())?l:void 0},s.bn=function(){try{var l=this;return function(u,c){try{var a=u()}catch(h){return c(h)}return a&&a.then?a.then(void 0,c):a}(function(){return be(navigator.serviceWorker.register(l.sn,l.nn),function(u){return l.un=performance.now(),u})},function(u){throw u})}catch(u){return Promise.reject(u)}},r=i,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Ar(r.prototype,o),i}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,i){this.Sn(n).add(i)},e.removeEventListener=function(n,i){this.Sn(n).delete(i)},e.dispatchEvent=function(n){n.target=this;for(var i,r=Lr(this.Sn(n.type));!(i=r()).done;)(0,i.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());function Rr(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:r,onRegisterError:o}=t;let s,l;const u=async(c=!0)=>{c&&s?.addEventListener("controlling",a=>{a.isUpdate&&window.location.reload()}),l&&l.waiting&&await Ve(l.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){s=new Wr("/sermon-presenter/sw.js",{scope:"/sermon-presenter/",type:"classic"}),s.addEventListener("activated",c=>{c.isUpdate||i?.()});{const c=()=>{n?.()};s.addEventListener("waiting",c),s.addEventListener("externalwaiting",c)}s.register({immediate:e}).then(c=>{l=c,r?.(c)}).catch(c=>{o?.(c)})}return u}function Ir(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:i,onRegistered:r,onRegisterError:o}=t,[s,l]=T(!1),[u,c]=T(!1),[a]=T(()=>Rr({immediate:e,onOfflineReady(){c(!0),i?.()},onNeedRefresh(){l(!0),n?.()},onRegistered:r,onRegisterError:o}));return{needRefresh:[s,l],offlineReady:[u,c],updateServiceWorker:a}}function zr(){const{offlineReady:[t],needRefresh:[e],updateServiceWorker:n}=Ir({onRegistered(i){console.log("SW Registered: "+i)},onRegisterError(i){console.log("SW registration error",i)}});return E(()=>{(!t||e)&&n(!0)},[t,e]),f(ee,{})}const Fr=()=>{const[t,e]=T(f(ee,{}));return E(()=>{const n=()=>{M.clean(),L.getLabel()==="present"?e(f(Mr,{})):e(f(Tr,{}))},i=()=>{console.error("Failed to initialize Tauri client"),n()};return L.init().then(n).catch(i),function(){}},[]),x(ee,{children:[t,f(zr,{})]})};Q(f(Fr,{}),document.getElementById("wrapper"));
