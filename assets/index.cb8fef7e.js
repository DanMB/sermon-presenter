const br=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};br();var Re,w,tn,nn,Ae,rn,$t,on,Ue={},sn=[],wr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ue(t,e){for(var n in e)t[n]=e[n];return t}function an(t){var e=t.parentNode;e&&e.removeChild(t)}function X(t,e,n){var r,i,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Re.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)s[o]===void 0&&(s[o]=t.defaultProps[o]);return Le(t,s,r,i,null)}function Le(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++tn};return i==null&&w.vnode!=null&&w.vnode(o),o}function ht(){return{current:null}}function ne(t){return t.children}function Z(t,e){this.props=t,this.context=e}function Se(t,e){if(e==null)return t.__?Se(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Se(t):null}function ln(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ln(t)}}function lt(t){(!t.__d&&(t.__d=!0)&&Ae.push(t)&&!Be.__r++||$t!==w.debounceRendering)&&(($t=w.debounceRendering)||rn)(Be)}function Be(){for(var t;Be.__r=Ae.length;)t=Ae.sort(function(e,n){return e.__v.__b-n.__v.__b}),Ae=[],t.some(function(e){var n,r,i,o,s,l;e.__d&&(s=(o=(n=e).__v).__e,(l=n.__P)&&(r=[],(i=ue({},o)).__v=o.__v+1,_t(l,o,i,n.__n,l.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s??Se(o),o.__h),pn(r,o),o.__e!=s&&ln(o)))})}function cn(t,e,n,r,i,o,s,l,u,c){var a,m,p,f,b,R,C,P=r&&r.__k||sn,W=P.length;for(n.__k=[],a=0;a<e.length;a++)if((f=n.__k[a]=(f=e[a])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Le(null,f,null,null,f):Array.isArray(f)?Le(ne,{children:f},null,null,null):f.__b>0?Le(f.type,f.props,f.key,null,f.__v):f)!=null){if(f.__=n,f.__b=n.__b+1,(p=P[a])===null||p&&f.key==p.key&&f.type===p.type)P[a]=void 0;else for(m=0;m<W;m++){if((p=P[m])&&f.key==p.key&&f.type===p.type){P[m]=void 0;break}p=null}_t(t,f,p=p||Ue,i,o,s,l,u,c),b=f.__e,(m=f.ref)&&p.ref!=m&&(C||(C=[]),p.ref&&C.push(p.ref,null,f),C.push(m,f.__c||b,f)),b!=null?(R==null&&(R=b),typeof f.type=="function"&&f.__k===p.__k?f.__d=u=un(f,u,t):u=dn(t,f,p,P,b,u),typeof n.type=="function"&&(n.__d=u)):u&&p.__e==u&&u.parentNode!=t&&(u=Se(p))}for(n.__e=R,a=W;a--;)P[a]!=null&&(typeof n.type=="function"&&P[a].__e!=null&&P[a].__e==n.__d&&(n.__d=Se(r,a+1)),hn(P[a],P[a]));if(C)for(a=0;a<C.length;a++)fn(C[a],C[++a],C[++a])}function un(t,e,n){for(var r,i=t.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=t,e=typeof r.type=="function"?un(r,e,n):dn(n,r,r,i,r.__e,e));return e}function oe(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){oe(n,e)}):e.push(t)),e}function dn(t,e,n,r,i,o){var s,l,u;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),s=null;else{for(l=o,u=0;(l=l.nextSibling)&&u<r.length;u+=2)if(l==i)break e;t.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function xr(t,e,n,r,i){var o;for(o in n)o==="children"||o==="key"||o in e||qe(t,o,null,n[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||qe(t,o,e[o],n[o],r)}function Et(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||wr.test(e)?n:n+"px"}function qe(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Et(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Et(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?Pt:Mt,o):t.removeEventListener(e,o?Pt:Mt,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function Mt(t){this.l[t.type+!1](w.event?w.event(t):t)}function Pt(t){this.l[t.type+!0](w.event?w.event(t):t)}function _t(t,e,n,r,i,o,s,l,u){var c,a,m,p,f,b,R,C,P,W,ae,q=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,l=e.__e=n.__e,e.__h=null,o=[l]),(c=w.__b)&&c(e);try{e:if(typeof q=="function"){if(C=e.props,P=(c=q.contextType)&&r[c.__c],W=c?P?P.props.value:c.__:r,n.__c?R=(a=e.__c=n.__c).__=a.__E:("prototype"in q&&q.prototype.render?e.__c=a=new q(C,W):(e.__c=a=new Z(C,W),a.constructor=q,a.render=kr),P&&P.sub(a),a.props=C,a.state||(a.state={}),a.context=W,a.__n=r,m=a.__d=!0,a.__h=[]),a.__s==null&&(a.__s=a.state),q.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=ue({},a.__s)),ue(a.__s,q.getDerivedStateFromProps(C,a.__s))),p=a.props,f=a.state,m)q.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(q.getDerivedStateFromProps==null&&C!==p&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(C,W),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(C,a.__s,W)===!1||e.__v===n.__v){a.props=C,a.state=a.__s,e.__v!==n.__v&&(a.__d=!1),a.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(k){k&&(k.__=e)}),a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(C,a.__s,W),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(p,f,b)})}a.context=W,a.props=C,a.state=a.__s,(c=w.__r)&&c(e),a.__d=!1,a.__v=e,a.__P=t,c=a.render(a.props,a.state,a.context),a.state=a.__s,a.getChildContext!=null&&(r=ue(ue({},r),a.getChildContext())),m||a.getSnapshotBeforeUpdate==null||(b=a.getSnapshotBeforeUpdate(p,f)),ae=c!=null&&c.type===ne&&c.key==null?c.props.children:c,cn(t,Array.isArray(ae)?ae:[ae],e,n,r,i,o,s,l,u),a.base=e.__e,e.__h=null,a.__h.length&&s.push(a),R&&(a.__E=a.__=null),a.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Sr(n.__e,e,n,r,i,o,s,u);(c=w.diffed)&&c(e)}catch(k){e.__v=null,(u||o!=null)&&(e.__e=l,e.__h=!!u,o[o.indexOf(l)]=null),w.__e(k,e,n)}}function pn(t,e){w.__c&&w.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){w.__e(r,n.__v)}})}function Sr(t,e,n,r,i,o,s,l){var u,c,a,m=n.props,p=e.props,f=e.type,b=0;if(f==="svg"&&(i=!0),o!=null){for(;b<o.length;b++)if((u=o[b])&&"setAttribute"in u==!!f&&(f?u.localName===f:u.nodeType===3)){t=u,o[b]=null;break}}if(t==null){if(f===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),o=null,l=!1}if(f===null)m===p||l&&t.data===p||(t.data=p);else{if(o=o&&Re.call(t.childNodes),c=(m=n.props||Ue).dangerouslySetInnerHTML,a=p.dangerouslySetInnerHTML,!l){if(o!=null)for(m={},b=0;b<t.attributes.length;b++)m[t.attributes[b].name]=t.attributes[b].value;(a||c)&&(a&&(c&&a.__html==c.__html||a.__html===t.innerHTML)||(t.innerHTML=a&&a.__html||""))}if(xr(t,p,m,i,l),a)e.__k=[];else if(b=e.props.children,cn(t,Array.isArray(b)?b:[b],e,n,r,i&&f!=="foreignObject",o,s,o?o[0]:n.__k&&Se(n,0),l),o!=null)for(b=o.length;b--;)o[b]!=null&&an(o[b]);l||("value"in p&&(b=p.value)!==void 0&&(b!==t.value||f==="progress"&&!b||f==="option"&&b!==m.value)&&qe(t,"value",b,m.value,!1),"checked"in p&&(b=p.checked)!==void 0&&b!==t.checked&&qe(t,"checked",b,m.checked,!1))}return t}function fn(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){w.__e(r,n)}}function hn(t,e,n){var r,i;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||fn(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){w.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&hn(r[i],e,typeof t.type!="function");n||t.__e==null||an(t.__e),t.__e=t.__d=void 0}function kr(t,e,n){return this.constructor(t,n)}function ge(t,e,n){var r,i,o;w.__&&w.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],_t(e,t=(!r&&n||e).__k=X(ne,null,[t]),i||Ue,Ue,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Re.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),pn(o,t)}function mt(t,e){ge(t,e,mt)}function _n(t,e,n){var r,i,o,s=ue({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];return arguments.length>2&&(s.children=arguments.length>3?Re.call(arguments,2):n),Le(t.type,s,r||t.key,i||t.ref,null)}function gt(t,e){var n={__c:e="__cC"+on++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(lt)},this.sub=function(s){i.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),l&&l.call(s)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Re=sn.slice,w={__e:function(t,e,n,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),s=i.__d),s)return i.__E=i}catch(l){t=l}throw t}},tn=0,nn=function(t){return t!=null&&t.constructor===void 0},Z.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ue({},this.state),typeof t=="function"&&(t=t(ue({},n),this.props)),t&&ue(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),lt(this))},Z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),lt(this))},Z.prototype.render=ne,Ae=[],rn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Be.__r=0,on=0;var Cr=Object.freeze(Object.defineProperty({__proto__:null,render:ge,hydrate:mt,createElement:X,h:X,Fragment:ne,createRef:ht,get isValidElement(){return nn},Component:Z,cloneElement:_n,createContext:gt,toChildArray:oe,get options(){return w}},Symbol.toStringTag,{value:"Module"})),ye,B,At,ke=0,mn=[],Lt=w.__b,Ot=w.__r,Nt=w.diffed,Rt=w.__c,It=w.unmount;function $e(t,e){w.__h&&w.__h(B,t,ke||e),ke=0;var n=B.__H||(B.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function N(t){return ke=1,vt(bn,t)}function vt(t,e,n){var r=$e(ye++,2);return r.t=t,r.__c||(r.__=[n?n(e):bn(void 0,e),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=B),r.__}function j(t,e){var n=$e(ye++,3);!w.__s&&wt(n.__H,e)&&(n.__=t,n.__H=e,B.__H.__h.push(n))}function yt(t,e){var n=$e(ye++,4);!w.__s&&wt(n.__H,e)&&(n.__=t,n.__H=e,B.__h.push(n))}function Q(t){return ke=5,Xe(function(){return{current:t}},[])}function gn(t,e,n){ke=6,yt(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function Xe(t,e){var n=$e(ye++,7);return wt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function vn(t,e){return ke=8,Xe(function(){return t},e)}function yn(t){var e=B.context[t.__c],n=$e(ye++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(B)),e.props.value):t.__}function bt(t,e){w.useDebugValue&&w.useDebugValue(e?e(t):t)}function Tr(t){var e=$e(ye++,10),n=N();return e.__=t,B.componentDidCatch||(B.componentDidCatch=function(r){e.__&&e.__(r),n[1](r)}),[n[0],function(){n[1](void 0)}]}function $r(){for(var t;t=mn.shift();)if(t.__P)try{t.__H.__h.forEach(He),t.__H.__h.forEach(ct),t.__H.__h=[]}catch(e){t.__H.__h=[],w.__e(e,t.__v)}}w.__b=function(t){B=null,Lt&&Lt(t)},w.__r=function(t){Ot&&Ot(t),ye=0;var e=(B=t.__c).__H;e&&(e.__h.forEach(He),e.__h.forEach(ct),e.__h=[])},w.diffed=function(t){Nt&&Nt(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(mn.push(e)!==1&&At===w.requestAnimationFrame||((At=w.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Wt&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Wt&&(r=requestAnimationFrame(i))})($r)),B=null},w.__c=function(t,e){e.some(function(n){try{n.__h.forEach(He),n.__h=n.__h.filter(function(r){return!r.__||ct(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],w.__e(r,n.__v)}}),Rt&&Rt(t,e)},w.unmount=function(t){It&&It(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{He(r)}catch(i){e=i}}),e&&w.__e(e,n.__v))};var Wt=typeof requestAnimationFrame=="function";function He(t){var e=B,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),B=e}function ct(t){var e=B;t.__c=t.__(),B=e}function wt(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function bn(t,e){return typeof e=="function"?e(t):e}function wn(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}var Er=wn(Cr),xn,Sn,kn,ut=Er,Mr=0;function zt(t,e,n,r,i){var o,s,l={};for(s in e)s=="ref"?o=e[s]:l[s]=e[s];var u={type:t,props:l,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Mr,__source:i,__self:r};if(typeof t=="function"&&(o=t.defaultProps))for(s in o)l[s]===void 0&&(l[s]=o[s]);return ut.options.vnode&&ut.options.vnode(u),u}kn=ut.Fragment,Sn=zt,xn=zt;const d=Sn,T=xn,ve=kn,Pr=()=>T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[d("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]});const Ar=()=>T("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16",children:[d("path",{d:"M8 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0 1A5 5 0 1 0 8 3a5 5 0 0 0 0 10z"}),d("path",{d:"M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"})]}),Cn=()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:d("path",{d:"M421.84 37.37a25.86 25.86 0 00-22.6-4.46L199.92 86.49A32.3 32.3 0 00176 118v226c0 6.74-4.36 12.56-11.11 14.83l-.12.05-52 18C92.88 383.53 80 402 80 423.91a55.54 55.54 0 0023.23 45.63A54.78 54.78 0 00135.34 480a55.82 55.82 0 0017.75-2.93l.38-.13 21.84-7.94A47.84 47.84 0 00208 423.91v-212c0-7.29 4.77-13.21 12.16-15.07l.21-.06L395 150.14a4 4 0 015 3.86v141.93c0 6.75-4.25 12.38-11.11 14.68l-.25.09-50.89 18.11A49.09 49.09 0 00304 375.92a55.67 55.67 0 0023.23 45.8 54.63 54.63 0 0049.88 7.35l.36-.12 21.84-7.95A47.83 47.83 0 00432 375.92V58a25.74 25.74 0 00-10.16-20.63z"})}),Lr=({type:t})=>d(Cn,{});class se{static get(e){const n=localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{console.error(`Failed to parse JSON data for Storage ${e}: `,n)}}static set(e,n){try{localStorage.setItem(e,JSON.stringify(n))}catch{console.error(`Failed to parse JSON data for Storage ${e}: `,n)}}static remove(e){localStorage.removeItem(e)}static use(e,n){const[r,i]=N(se.get(e)||n),o=s=>{s.key===e&&i(se.get(e))};return window.addEventListener("storage",o),[r,s=>{se.set(e,s),i(s)}]}}class F{static enabled=!0;static clean(){const e=Date.now();for(var n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(!r)continue;const i=se.get(r);!i||i?.created>0&&i?.expired>0&&i?.value&&i.expired<=e&&se.remove(r)}}static get(e){if(!F.enabled)return;const n=localStorage.getItem(e);if(n)try{const r=JSON.parse(n);if(Date.now()>r.expired){this.remove(e);return}return r.value}catch{console.error(`Failed to parse JSON get data for Cache ${e}: `,n)}}static set(e,n,r=36e3){if(F.enabled)try{const i=Date.now();localStorage.setItem(e,JSON.stringify({value:n,maxAge:r,expired:i+r*1e3,created:i}))}catch{console.error(`Failed to parse JSON save data for Cache ${e}: `,n)}}static remove(e){localStorage.removeItem(e)}static use(e,n){if(!F.enabled)return[n,()=>{}];const[r,i]=N(F.get(e)||n),o=s=>{s.key===e&&i(F.get(e))};return window.addEventListener("storage",o),[r,s=>{F.set(e,s),i(s)}]}}const Ft=t=>{let e;const n=new Set,r=(u,c)=>{const a=typeof u=="function"?u(e):u;if(a!==e){const m=e;e=c?a:Object.assign({},e,a),n.forEach(p=>p(e,m))}},i=()=>e,l={setState:r,getState:i,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l},Or=t=>t?Ft(t):Ft;function Tn(t,e){for(var n in e)t[n]=e[n];return t}function dt(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Ve(t){this.props=t}function $n(t,e){function n(i){var o=this.props.ref,s=o==i.ref;return!s&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!s:dt(this.props,i)}function r(i){return this.shouldComponentUpdate=n,X(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Ve.prototype=new Z).isPureReactComponent=!0,Ve.prototype.shouldComponentUpdate=function(t,e){return dt(this.props,t)||dt(this.state,e)};var Dt=w.__b;w.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Dt&&Dt(t)};var Nr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function En(t){function e(n){var r=Tn({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=Nr,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Ht=function(t,e){return t==null?null:oe(oe(t).map(e))},Mn={map:Ht,forEach:Ht,count:function(t){return t?oe(t).length:0},only:function(t){var e=oe(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:oe},Rr=w.__e;w.__e=function(t,e,n,r){if(t.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}Rr(t,e,n,r)};var jt=w.unmount;function Oe(){this.__u=0,this.t=null,this.__b=null}function Pn(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function An(t){var e,n,r;function i(o){if(e||(e=t()).then(function(s){n=s.default||s},function(s){r=s}),r)throw r;if(!n)throw e;return X(n,o)}return i.displayName="Lazy",i.__f=!0,i}function xe(){this.u=null,this.o=null}w.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),jt&&jt(t)},(Oe.prototype=new Z).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Pn(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(l):l())};n.__R=s;var l=function(){if(!--r.__u){if(r.state.__e){var c=r.state.__e;r.__v.__k[0]=function m(p,f,b){return p&&(p.__v=null,p.__k=p.__k&&p.__k.map(function(R){return m(R,f,b)}),p.__c&&p.__c.__P===f&&(p.__e&&b.insertBefore(p.__e,p.__d),p.__c.__e=!0,p.__c.__P=b)),p}(c,c.__c.__P,c.__c.__O)}var a;for(r.setState({__e:r.__b=null});a=r.t.pop();)a.forceUpdate()}},u=e.__h===!0;r.__u++||u||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(s,s)},Oe.prototype.componentWillUnmount=function(){this.t=[]},Oe.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(s,l,u){return s&&(s.__c&&s.__c.__H&&(s.__c.__H.__.forEach(function(c){typeof c.__c=="function"&&c.__c()}),s.__c.__H=null),(s=Tn({},s)).__c!=null&&(s.__c.__P===u&&(s.__c.__P=l),s.__c=null),s.__k=s.__k&&s.__k.map(function(c){return o(c,l,u)})),s}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&X(ne,null,t.fallback);return i&&(i.__h=null),[X(ne,null,e.__e?null:t.children),i]};var Ut=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Ir(t){return this.getChildContext=function(){return t.context},t.children}function Wr(t){var e=this,n=t.i;e.componentWillUnmount=function(){ge(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),ge(X(Ir,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function Ln(t,e){return X(Wr,{__v:t,i:e})}(xe.prototype=new Z).__e=function(t){var e=this,n=Pn(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),Ut(e,t,r)):i()};n?n(o):o()}},xe.prototype.render=function(t){this.u=null,this.o=new Map;var e=oe(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},xe.prototype.componentDidUpdate=xe.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Ut(t,n,e)})};var On=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,zr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Fr=typeof document<"u",Dr=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};function Nn(t,e,n){return e.__k==null&&(e.textContent=""),ge(t,e),typeof n=="function"&&n(),t?t.__c:null}function Rn(t,e,n){return mt(t,e),typeof n=="function"&&n(),t?t.__c:null}Z.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Z.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Bt=w.event;function Hr(){}function jr(){return this.cancelBubble}function Ur(){return this.defaultPrevented}w.event=function(t){return Bt&&(t=Bt(t)),t.persist=Hr,t.isPropagationStopped=jr,t.isDefaultPrevented=Ur,t.nativeEvent=t};var In,qt={configurable:!0,get:function(){return this.class}},Vt=w.vnode;w.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var o in r={},n){var s=n[o];Fr&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in n&&s==null||(o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!Dr(n.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&zr.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():s===null&&(s=void 0),r[o]=s)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=oe(n.children).forEach(function(l){l.props.selected=r.value.indexOf(l.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=oe(n.children).forEach(function(l){l.props.selected=r.multiple?r.defaultValue.indexOf(l.props.value)!=-1:r.defaultValue==l.props.value})),t.props=r,n.class!=n.className&&(qt.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",qt))}t.$$typeof=On,Vt&&Vt(t)};var Kt=w.__r;w.__r=function(t){Kt&&Kt(t),In=t.__c};var Wn={ReactCurrentDispatcher:{current:{readContext:function(t){return In.__n[t.__c].props.value}}}},Br="17.0.2";function zn(t){return X.bind(null,t)}function xt(t){return!!t&&t.$$typeof===On}function Fn(t){return xt(t)?_n.apply(null,arguments):t}function Dn(t){return!!t.__k&&(ge(null,t),!0)}function Hn(t){return t&&(t.base||t.nodeType===1&&t)||null}var jn=function(t,e){return t(e)},Un=function(t,e){return t(e)},qr=ne,Vr={useState:N,useReducer:vt,useEffect:j,useLayoutEffect:yt,useRef:Q,useImperativeHandle:gn,useMemo:Xe,useCallback:vn,useContext:yn,useDebugValue:bt,version:"17.0.2",Children:Mn,render:Nn,hydrate:Rn,unmountComponentAtNode:Dn,createPortal:Ln,createElement:X,createContext:gt,createFactory:zn,cloneElement:Fn,createRef:ht,Fragment:ne,isValidElement:xt,findDOMNode:Hn,Component:Z,PureComponent:Ve,memo:$n,forwardRef:En,flushSync:Un,unstable_batchedUpdates:jn,StrictMode:ne,Suspense:Oe,SuspenseList:xe,lazy:An,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Wn},Kr=Object.freeze(Object.defineProperty({__proto__:null,default:Vr,version:Br,Children:Mn,render:Nn,hydrate:Rn,unmountComponentAtNode:Dn,createPortal:Ln,createFactory:zn,cloneElement:Fn,isValidElement:xt,findDOMNode:Hn,PureComponent:Ve,memo:$n,forwardRef:En,flushSync:Un,unstable_batchedUpdates:jn,StrictMode:qr,Suspense:Oe,SuspenseList:xe,lazy:An,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Wn,createElement:X,createContext:gt,createRef:ht,Fragment:ne,Component:Z,useState:N,useReducer:vt,useEffect:j,useLayoutEffect:yt,useRef:Q,useImperativeHandle:gn,useMemo:Xe,useCallback:vn,useContext:yn,useDebugValue:bt,useErrorBoundary:Tr},Symbol.toStringTag,{value:"Module"})),Bn={exports:{}},qn={},Vn=wn(Kr),Kn={exports:{}},Gn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ce=Vn;function Gr(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jr=typeof Object.is=="function"?Object.is:Gr,Yr=Ce.useState,Xr=Ce.useEffect,Zr=Ce.useLayoutEffect,Qr=Ce.useDebugValue;function ei(t,e){var n=e(),r=Yr({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Zr(function(){i.value=n,i.getSnapshot=e,ot(i)&&o({inst:i})},[t,n,e]),Xr(function(){return ot(i)&&o({inst:i}),t(function(){ot(i)&&o({inst:i})})},[t]),Qr(n),n}function ot(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jr(t,n)}catch{return!0}}function ti(t,e){return e()}var ni=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ti:ei;Gn.useSyncExternalStore=Ce.useSyncExternalStore!==void 0?Ce.useSyncExternalStore:ni;Kn.exports=Gn;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=Vn,ri=Kn.exports;function ii(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oi=typeof Object.is=="function"?Object.is:ii,si=ri.useSyncExternalStore,ai=Ze.useRef,li=Ze.useEffect,ci=Ze.useMemo,ui=Ze.useDebugValue;qn.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=ai(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=ci(function(){function u(f){if(!c){if(c=!0,a=f,f=r(f),i!==void 0&&s.hasValue){var b=s.value;if(i(b,f))return m=b}return m=f}if(b=m,oi(a,f))return b;var R=r(f);return i!==void 0&&i(b,R)?b:(a=f,m=R)}var c=!1,a,m,p=n===void 0?null:n;return[function(){return u(e())},p===null?void 0:function(){return u(p())}]},[e,n,r,i]);var l=si(t,o[0],o[1]);return li(function(){s.hasValue=!0,s.value=l},[l]),ui(l),l};Bn.exports=qn;function di(t,e=t.getState,n){const r=Bn.exports.useSyncExternalStoreWithSelector(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return bt(r),r}const Gt=t=>{const e=typeof t=="function"?Or(t):t,n=(r,i)=>di(e,r,i);return Object.assign(n,e),n},pi=t=>t?Gt(t):Gt;var Jn=pi;const We={id:null,flush:!1,maxAge:0};class Qe{_store;get zustand(){return this._store}_id=null;_flush=!1;_maxAge=0;constructor(e,{id:n=We.id,flush:r=We.flush,maxAge:i=We.maxAge}=We){if(this._id=n,this._flush=r,this._maxAge=i,this._id){let o;this._flush||(this._maxAge>0?o=F.get(this._id):o=se.get(this._id)??e),e=o??e,this._maxAge>0?F.set(this._id,e,this._maxAge):se.set(this._id,e)}this._store=Jn(()=>e)}use=(e,n)=>this._store(e,n);get=()=>this._store.getState();set=(e,n)=>{this._store.setState(e,n),this._id&&(this._maxAge>0?F.set(this._id,this._store.getState(),this._maxAge):se.set(this._id,this._store.getState()))};sub=e=>this._store.subscribe(e)}const fi="ourpres";var hi=(t=>(t[t.TYPE=0]="TYPE",t[t.ID=1]="ID",t[t.SONG=2]="SONG",t[t.SLIDE=3]="SLIDE",t))(hi||{}),_i=(t=>(t.NEWTAB="newtab",t.SETLIST="setlist",t.PRESENT="present",t))(_i||{});const ce=`${fi}://newtab`;var mi=(t=>(t.POST="POST",t.GET="GET",t))(mi||{});class ze{static async get(e){return await this.request("GET",e)}static async post(e){return await this.request("POST",e)}static async request(e,n){return new Promise(async(r,i)=>{let o=new XMLHttpRequest;o.onreadystatechange=()=>{o.readyState==4&&(o.status===200?r(o.responseText):i(o.responseText))},o.open(e,n,!0),o.onerror=s=>{i(s)},o.send()})}}class ie{static endpoint="https://europe-west1-ourpraise-fb.cloudfunctions.net/api/";static getSong=async(e,n=!1)=>{if(!n){const i=F.get(`OurPraise.song.${e}`);if(i)return i}const r=await ze.get(ie.endpoint+"song?id="+e).catch(i=>(console.warn("Error getting song",i),null));if(!r)throw new Error("Got null from song request");try{const i=JSON.parse(r);return F.set(`OurPraise.song.${e}`,i,1800),i}catch{throw new Error("Failed to parse data from song request")}};static getEvent=async(e,n=!1)=>{if(!n){const i=F.get(`OurPraise.event.${e}`);if(i)return i}const r=await ze.get(ie.endpoint+"event?id="+e).catch(i=>(console.warn("Error getting events",i),null));if(!r)throw new Error("Got null from event request");try{const i=JSON.parse(r);return F.set(`OurPraise.event.${e}`,i,1800),i}catch{throw new Error("Failed to parse data from event request")}};static getAllEvents=async(e=!1)=>{if(!e){const r=F.get("OurPraise.events");if(r)return r}const n=await ze.get(ie.endpoint+"events").catch(r=>(console.warn("Error getting events",r),null));if(!n)throw new Error("Got null from events request");try{const r=JSON.parse(n);return F.set("OurPraise.events",r,600),r}catch{throw new Error("Failed to parse data from events request")}};static search=async(e,n=!1)=>{if(!n){const i=F.get(`OurPraise.search.${e}`);if(i)return i}const r=await ze.get(ie.endpoint+"search?q="+e).catch(i=>(console.warn("Error searching songs",i),null));if(!r)throw new Error("Got null from search request");try{const i=JSON.parse(r);return F.set(`OurPraise.search.${e}`,i,600),i}catch{throw new Error("Failed to parse data from search request")}}}var Yn=(t=>(t.SETLIST="setlist",t.NEWTAB="newtab",t))(Yn||{});class et extends Qe{constructor(e){super(e,{id:e.id});const n=e.data;et.isSetList(n)&&n.id&&ie.getEvent(n.id).then(r=>{r&&this.set({data:r})})}static isSetList(e){return e?.songs}}class gi extends Qe{map;constructor(){super({tabs:[ce],active:ce},{id:"tabs"});const e=new Map,n=this.get();let r=!1;for(const i of n.tabs){const o=se.get(i);if(o)e.set(i,new et(o));else if(i!==ce){const s=this.get().tabs.indexOf(i);s>=0&&(n.tabs=[...this.get().tabs].splice(s,1),r=!0)}}this.get().tabs.includes(this.get().active)||(n.active=ce),r&&this.set(n),this.map=e}next=()=>{this.move("+")};prev=()=>{this.move("-")};move=e=>{const n=this.get().tabs;if(e!=="+"&&e!=="-"){let r=e,i=n.length-1;r>i?r=i:r<0&&(r=0);const o=n[r];if(!o)return;this.set({active:o})}else{let r=this.get().tabs.findIndex(o=>o===this.get().active);e==="+"?(r--,r<0&&(r=n.length-1)):(r++,r+1>n.length&&(r=0));const i=n[r];if(!i)return;this.set({active:i})}};remove=e=>{if(!e)return;const n=this.get().tabs.indexOf(e);if(this.map.delete(e),n>=0){const r=[...this.get().tabs];r.splice(n,1),e===this.get().active?this.set({tabs:r,active:ce}):this.set({tabs:r})}};getTab=e=>this.map.get(e)}const H=new gi,Te=H.use,Xn=t=>T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});class Ie{_store;get store(){return this._store}constructor(e){this._store=Jn(()=>({value:e}))}use=()=>this._store(e=>e.value);get=()=>this._store.getState().value;set=e=>{this._store.setState({value:e})}}const Ke=new Ie(!1),_e=new Ie(null),me=new Ie(null),Me=new Ie(!1),Pe=new Ie(!1),vi=({tab:t})=>{const e=Te(s=>s.active),n=me.use(),r=Ke.use(),i=t.use(s=>s.id),o=t.use(s=>s.title);return T("div",{class:`HeaderTab ${i===e?"active":""} ${r&&i===n?"live":""}`,"data-id":i,onClick:s=>{s.target?.classList.contains("close")||H.set({active:i})},children:[d("span",{class:"icon",children:d(Lr,{})}),d("span",{class:"name",children:o}),d("span",{class:"indicator",children:d(Ar,{})}),d("span",{class:"close",onClick:()=>{H.remove(i)},children:d(Xn,{})})]},i)};var Zn=function(t,e){return(Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])})(t,e)};function Qn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Zn(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Y=function(){return(Y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function g(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(c){try{u(r.next(c))}catch(a){o(a)}}function l(c){try{u(r.throw(c))}catch(a){o(a)}}function u(c){var a;c.done?i(c.value):(a=c.value,a instanceof n?a:new n(function(m){m(a)})).then(s,l)}u((r=r.apply(t,e||[])).next())})}function v(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||a[0]!==6&&a[0]!==2)){s=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(a[0]===6&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(m){a=[6,m],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([u,c])}}}function Ge(t,e){e===void 0&&(e=!1);var n=window.crypto.getRandomValues(new Uint32Array(1))[0],r="_".concat(n);return Object.defineProperty(window,r,{value:function(i){return e&&Reflect.deleteProperty(window,r),t?.(i)},writable:!1,configurable:!0}),n}function St(t,e){return e===void 0&&(e={}),g(this,void 0,void 0,function(){return v(this,function(n){return[2,new Promise(function(r,i){var o=Ge(function(l){r(l),Reflect.deleteProperty(window,"_".concat(s))},!0),s=Ge(function(l){i(l),Reflect.deleteProperty(window,"_".concat(o))},!0);window.__TAURI_IPC__(Y({cmd:t,callback:o,error:s},e))})]})})}function yi(t,e){e===void 0&&(e="asset");var n=encodeURIComponent(t);return navigator.userAgent.includes("Windows")?"https://".concat(e,".localhost/").concat(n):"".concat(e,"://").concat(n)}Object.freeze({__proto__:null,transformCallback:Ge,invoke:St,convertFileSrc:yi});function x(t){return g(this,void 0,void 0,function(){return v(this,function(e){return[2,St("tauri",t)]})})}function er(t,e){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Event",message:{cmd:"unlisten",event:t,eventId:e}})]})})}function bi(t,e,n){return g(this,void 0,void 0,function(){return v(this,function(r){switch(r.label){case 0:return[4,x({__tauriModule:"Event",message:{cmd:"emit",event:t,windowLabel:e,payload:typeof n=="string"?n:JSON.stringify(n)}})];case 1:return r.sent(),[2]}})})}function tr(t,e,n){return g(this,void 0,void 0,function(){var r=this;return v(this,function(i){return[2,x({__tauriModule:"Event",message:{cmd:"listen",event:t,windowLabel:e,handler:Ge(n)}}).then(function(o){return function(){return g(r,void 0,void 0,function(){return v(this,function(s){return[2,er(t,o)]})})}})]})})}function wi(t,e,n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,tr(t,e,function(i){n(i),er(t,i.id).catch(function(){})})]})})}var Je,nr=function(t,e){this.type="Logical",this.width=t,this.height=e},pt=function(){function t(e,n){this.type="Physical",this.width=e,this.height=n}return t.prototype.toLogical=function(e){return new nr(this.width/e,this.height/e)},t}(),rr=function(t,e){this.type="Logical",this.x=t,this.y=e},Ye=function(){function t(e,n){this.type="Physical",this.x=e,this.y=n}return t.prototype.toLogical=function(e){return new rr(this.x/e,this.y/e)},t}();function xi(){return new fe(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0})}function ir(){return window.__TAURI_METADATA__.__windows.map(function(t){return new fe(t.label,{skip:!0})})}(function(t){t[t.Critical=1]="Critical",t[t.Informational=2]="Informational"})(Je||(Je={}));var te,Jt=["tauri://created","tauri://error"],or=function(){function t(e){this.label=e,this.listeners=Object.create(null)}return t.prototype.listen=function(e,n){return g(this,void 0,void 0,function(){var r=this;return v(this,function(i){return this._handleTauriEvent(e,n)?[2,Promise.resolve(function(){var o=r.listeners[e];o.splice(o.indexOf(n),1)})]:[2,tr(e,this.label,n)]})})},t.prototype.once=function(e,n){return g(this,void 0,void 0,function(){var r=this;return v(this,function(i){return this._handleTauriEvent(e,n)?[2,Promise.resolve(function(){var o=r.listeners[e];o.splice(o.indexOf(n),1)})]:[2,wi(e,this.label,n)]})})},t.prototype.emit=function(e,n){return g(this,void 0,void 0,function(){var r,i;return v(this,function(o){if(Jt.includes(e)){for(r=0,i=this.listeners[e]||[];r<i.length;r++)(0,i[r])({event:e,id:-1,windowLabel:this.label,payload:n});return[2,Promise.resolve()]}return[2,bi(e,this.label,n)]})})},t.prototype._handleTauriEvent=function(e,n){return!!Jt.includes(e)&&(e in this.listeners?this.listeners[e].push(n):this.listeners[e]=[n],!0)},t}(),sr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Qn(e,t),e.prototype.scaleFactor=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"scaleFactor"}}}})]})})},e.prototype.innerPosition=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerPosition"}}}}).then(function(r){var i=r.x,o=r.y;return new Ye(i,o)})]})})},e.prototype.outerPosition=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerPosition"}}}}).then(function(r){var i=r.x,o=r.y;return new Ye(i,o)})]})})},e.prototype.innerSize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"innerSize"}}}}).then(function(r){var i=r.width,o=r.height;return new pt(i,o)})]})})},e.prototype.outerSize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"outerSize"}}}}).then(function(r){var i=r.width,o=r.height;return new pt(i,o)})]})})},e.prototype.isFullscreen=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isFullscreen"}}}})]})})},e.prototype.isMaximized=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isMaximized"}}}})]})})},e.prototype.isDecorated=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isDecorated"}}}})]})})},e.prototype.isResizable=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isResizable"}}}})]})})},e.prototype.isVisible=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"isVisible"}}}})]})})},e.prototype.theme=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"theme"}}}})]})})},e.prototype.center=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"center"}}}})]})})},e.prototype.requestUserAttention=function(n){return g(this,void 0,void 0,function(){var r;return v(this,function(i){return r=null,n&&(r=n===Je.Critical?{type:"Critical"}:{type:"Informational"}),[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"requestUserAttention",payload:r}}}})]})})},e.prototype.setResizable=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setResizable",payload:n}}}})]})})},e.prototype.setTitle=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setTitle",payload:n}}}})]})})},e.prototype.maximize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"maximize"}}}})]})})},e.prototype.unmaximize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unmaximize"}}}})]})})},e.prototype.toggleMaximize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"toggleMaximize"}}}})]})})},e.prototype.minimize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"minimize"}}}})]})})},e.prototype.unminimize=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"unminimize"}}}})]})})},e.prototype.show=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"show"}}}})]})})},e.prototype.hide=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"hide"}}}})]})})},e.prototype.close=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"close"}}}})]})})},e.prototype.setDecorations=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setDecorations",payload:n}}}})]})})},e.prototype.setAlwaysOnTop=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setAlwaysOnTop",payload:n}}}})]})})},e.prototype.setSize=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){if(!n||n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSize",payload:{type:n.type,data:{width:n.width,height:n.height}}}}}})]})})},e.prototype.setMinSize=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){if(n&&n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMinSize",payload:n?{type:n.type,data:{width:n.width,height:n.height}}:null}}}})]})})},e.prototype.setMaxSize=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){if(n&&n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `size` argument must be either a LogicalSize or a PhysicalSize instance");return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setMaxSize",payload:n?{type:n.type,data:{width:n.width,height:n.height}}:null}}}})]})})},e.prototype.setPosition=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){if(!n||n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setPosition",payload:{type:n.type,data:{x:n.x,y:n.y}}}}}})]})})},e.prototype.setFullscreen=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFullscreen",payload:n}}}})]})})},e.prototype.setFocus=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setFocus"}}}})]})})},e.prototype.setIcon=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setIcon",payload:{icon:typeof n=="string"?n:Array.from(n)}}}}})]})})},e.prototype.setSkipTaskbar=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setSkipTaskbar",payload:n}}}})]})})},e.prototype.setCursorGrab=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorGrab",payload:n}}}})]})})},e.prototype.setCursorVisible=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorVisible",payload:n}}}})]})})},e.prototype.setCursorIcon=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorIcon",payload:n}}}})]})})},e.prototype.setCursorPosition=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){if(!n||n.type!=="Logical"&&n.type!=="Physical")throw new Error("the `position` argument must be either a LogicalPosition or a PhysicalPosition instance");return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"setCursorPosition",payload:{type:n.type,data:{x:n.x,y:n.y}}}}}})]})})},e.prototype.startDragging=function(){return g(this,void 0,void 0,function(){return v(this,function(n){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{label:this.label,cmd:{type:"startDragging"}}}})]})})},e.prototype.onResized=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,this.listen("tauri://resize",n)]})})},e.prototype.onMoved=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,this.listen("tauri://move",n)]})})},e.prototype.onCloseRequested=function(n){return g(this,void 0,void 0,function(){var r=this;return v(this,function(i){return[2,this.listen("tauri://close-requested",function(o){var s=new ar(o);Promise.resolve(n(s)).then(function(){if(!s.isPreventDefault())return r.close()})})]})})},e.prototype.onFocusChanged=function(n){return g(this,void 0,void 0,function(){var r,i;return v(this,function(o){switch(o.label){case 0:return[4,this.listen("tauri://focus",function(s){n(Y(Y({},s),{payload:!0}))})];case 1:return r=o.sent(),[4,this.listen("tauri://blur",function(s){n(Y(Y({},s),{payload:!1}))})];case 2:return i=o.sent(),[2,function(){r(),i()}]}})})},e.prototype.onScaleChanged=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,this.listen("tauri://scale-change",n)]})})},e.prototype.onMenuClicked=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,this.listen("tauri://menu",n)]})})},e.prototype.onFileDropEvent=function(n){return g(this,void 0,void 0,function(){var r,i,o;return v(this,function(s){switch(s.label){case 0:return[4,this.listen("tauri://file-drop",function(l){n(Y(Y({},l),{payload:{type:"drop",paths:l.payload}}))})];case 1:return r=s.sent(),[4,this.listen("tauri://file-drop-hover",function(l){n(Y(Y({},l),{payload:{type:"hover",paths:l.payload}}))})];case 2:return i=s.sent(),[4,this.listen("tauri://file-drop-cancelled",function(l){n(Y(Y({},l),{payload:{type:"cancel"}}))})];case 3:return o=s.sent(),[2,function(){r(),i(),o()}]}})})},e.prototype.onThemeChanged=function(n){return g(this,void 0,void 0,function(){return v(this,function(r){return[2,this.listen("tauri://theme-changed",n)]})})},e}(or),ar=function(){function t(e){this._preventDefault=!1,this.event=e.event,this.windowLabel=e.windowLabel,this.id=e.id}return t.prototype.preventDefault=function(){this._preventDefault=!0},t.prototype.isPreventDefault=function(){return this._preventDefault},t}(),fe=function(t){function e(n,r){r===void 0&&(r={});var i=t.call(this,n)||this;return r?.skip||x({__tauriModule:"Window",message:{cmd:"createWebview",data:{options:Y({label:n},r)}}}).then(function(){return g(i,void 0,void 0,function(){return v(this,function(o){return[2,this.emit("tauri://created")]})})}).catch(function(o){return g(i,void 0,void 0,function(){return v(this,function(s){return[2,this.emit("tauri://error",o)]})})}),i}return Qn(e,t),e.getByLabel=function(n){return ir().some(function(r){return r.label===n})?new e(n,{skip:!0}):null},e}(sr);function lr(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"currentMonitor"}}}})]})})}function Si(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"primaryMonitor"}}}})]})})}function cr(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Window",message:{cmd:"manage",data:{cmd:{type:"availableMonitors"}}}})]})})}"__TAURI_METADATA__"in window?te=new fe(window.__TAURI_METADATA__.__currentWindow.label,{skip:!0}):(console.warn(`Could not find "window.__TAURI_METADATA__". The "appWindow" value will reference the "main" window label.
Note that this is not an issue if running this frontend on a browser instead of a Tauri window.`),te=new fe("main",{skip:!0}));Object.freeze({__proto__:null,WebviewWindow:fe,WebviewWindowHandle:or,WindowManager:sr,CloseRequestedEvent:ar,getCurrent:xi,getAll:ir,get appWindow(){return te},LogicalSize:nr,PhysicalSize:pt,LogicalPosition:rr,PhysicalPosition:Ye,get UserAttentionType(){return Je},currentMonitor:lr,primaryMonitor:Si,availableMonitors:cr});function ki(){return navigator.appVersion.includes("Win")}var Ci=ki()?`\r
`:`
`;function Ti(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Os",message:{cmd:"platform"}})]})})}function $i(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Os",message:{cmd:"version"}})]})})}function ur(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Os",message:{cmd:"osType"}})]})})}function Ei(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Os",message:{cmd:"arch"}})]})})}function Mi(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"Os",message:{cmd:"tempdir"}})]})})}Object.freeze({__proto__:null,EOL:Ci,platform:Ti,version:$i,type:ur,arch:Ei,tempdir:Mi});var U=(t=>(t.PRESENT="sermon://event/present",t.STYLE="sermon://event/style",t.CLEAR="sermon://event/clear",t.STOPPED="sermon://event/stopped",t.LOADED="sermon://event/loaded",t.BLACKOUT="sermon://custom/blackout",t.SETFOCUS="sermon://custom/focus",t))(U||{});function dr(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"App",message:{cmd:"getAppVersion"}})]})})}function Pi(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"App",message:{cmd:"getAppName"}})]})})}function pr(){return g(this,void 0,void 0,function(){return v(this,function(t){return[2,x({__tauriModule:"App",message:{cmd:"getTauriVersion"}})]})})}Object.freeze({__proto__:null,getName:Pi,getVersion:dr,getTauriVersion:pr});class G{static isTau=void 0;static versions={tauri:"",client:window.__VERSION__,app:""};static async init(){return new Promise((e,n)=>{typeof window.__TAURI__<"u"&&window.__TAURI__?(G.isTau=!0,this.setup().then(()=>{e()}).catch(()=>{n()})):(G.isTau=!1,this.setup(),n())})}static setup=async()=>{F.enabled=!0,G.isTau&&(this.versions.tauri=await pr(),this.versions.app=await dr(),setTimeout(async()=>{te.show(),te.label==="control"&&St("close_splash")},800))};static destroy=()=>{};static getLabel=()=>{let e="control";if(G.isTau)te.label&&(e=te.label);else{const n=new URLSearchParams(window.location.search).get("label");n&&(e=n)}return e}}class Ai{static settingsToString(e){const n=e;return Object.keys(e).map(r=>{n[r];let i=`${r}=${n[r]}`;return r==="top"?i+=`,screenY=${n[r]}`:r==="left"?i+=`,screenX=${n[r]}`:r==="width"?i+=`,innerWidth=${n[r]}`:r==="height"&&(i+=`,innerHeight=${n[r]}`),i}).join(",")+",popup=1"}}var J=(t=>(t.SLIDE="sermon://custom/slide",t.CLEAR="sermon://custom/clear",t.BLACKOUT="sermon://custom/blackout",t.START="sermon://custom/start",t.STOP="sermon://custom/stop",t.OPTIONS="sermon://custom/options",t))(J||{});class K{static dispatch(e,n){var r=new CustomEvent(e,n?{detail:n}:void 0);window.dispatchEvent(r)}static listen(e,n){window.addEventListener(e,n)}static remove(e,n){window.removeEventListener(e,n)}static once(e,n){var r=i=>{n(i),K.remove(e,r)};K.listen(e,r)}}const Ne={font:"'Fira Sans', sans-serif",scale:1,background:null,foreground:"#ffffff",autoScale:!0,position:.5};class Li extends Qe{_keys;get keys(){return this._keys}constructor(){super(Ne,{id:"settings_0"});function e(n,r){return{...n,[r]:{key:r,type:typeof Ne[r]}}}this._keys=Object.keys(Ne).reduce(e,{})}}const ee=new Li;class D{static _instance=null;static get(){return this._instance}_window=null;get webview(){return this._window}_unlistenWindowClose=()=>null;_unlistenAppClose=()=>null;_unlistenStyleSet=()=>null;_native=null;_current="";get current(){return this._current}constructor(){if(D._instance!==null&&D._instance.close(),Pe.set(!0),Me.set(!0),K.listen(J.SLIDE,this.onSlideEvent),K.listen(J.STOP,this.onStopShow),G.isTau)this._window=new fe("present",{fileDropEnabled:!1,focus:!1,minHeight:300,minWidth:500,title:"OurPresenter",visible:!1,decorations:!1,skipTaskbar:!1,resizable:!0,url:window.location.origin+window.location.pathname}),this._window.once("tauri://created",this.init),this._window.once("tauri://error",e=>{console.error(e),this.close()});else{const e=new URLSearchParams;e.set("label","present"),this._native=window.open(`${window.location.pathname}?${e.toString()}`,"present",Ai.settingsToString({width:500,height:500,location:!1,menubar:!1,resizable:!0,scrollbars:!1,status:!1,toolbar:!1,top:-500,left:-500,fullscreen:!0})),this._native&&(this._native.addEventListener("beforeunload",()=>{this.destroy()}),this.updateStyle())}D._instance=this,Ke.set(!0)}onSlideEvent=e=>{if(!e.detail){_e.set(null),me.set(null);return}this._current=e.detail;const n=e.detail?e.detail.split("/"):[],r=n[0]?H.getTab(n[0]):void 0,i=n[1]&&r?r.get().data.songs.find(s=>s.title===n[1]):null,o=n[2]&&i?i.slides[parseInt(n[2])]:null;this.set(o),_e.set(e.detail||null),me.set(r?.get().id||null)};init=async()=>{if(this.style(ee.get()),this._unlistenStyleSet=ee.sub(this.style),!this._window)return;this._unlistenAppClose=await te.onCloseRequested(this.close),this._unlistenWindowClose=await this._window.onCloseRequested(this.destroy);const e=await cr(),n=await lr();if(e.length<=0||!n){console.log("no monitors"),this.close();return}const r=e.find(i=>i.name!==n.name);if(!r){console.log("no 2nd monitor");return}await this._window.setPosition(new Ye(r.position.x,r.position.y)),await this._window.maximize(),await ur()==="Darwin"&&await this._window.setFullscreen(!0),this.updateStyle()};set=async e=>{Pe.set(!1),Me.set(!1),this._window?await this._window.emit(U.PRESENT,e):this._native&&this._native.postMessage({event:U.PRESENT,payload:JSON.stringify(e)},window.location.origin)};_styleUpdateTimeout;updateStyle=()=>{this._styleUpdateTimeout&&clearTimeout(this._styleUpdateTimeout),this._styleUpdateTimeout=setTimeout(()=>{this.style(ee.get())},600)};style=async e=>{this._window?await this._window.emit(U.STYLE,e):this._native&&this._native.postMessage({event:U.STYLE,payload:JSON.stringify(e)},window.location.origin)};clear=async()=>{Pe.set(!Pe.get()),this._window?await this._window.emit(U.CLEAR):this._native&&this._native.postMessage({event:U.CLEAR},window.location.origin)};blackout=async()=>{Me.set(!Me.get()),this._window?await this._window.emit(U.BLACKOUT):this._native&&this._native.postMessage({event:U.BLACKOUT},window.location.origin)};onStopShow=()=>{this.close()};close=()=>{this.destroy(),this._window&&this._window.close(),this._native&&this._native.close()};destroy=()=>{this._unlistenWindowClose(),this._unlistenAppClose(),this._unlistenStyleSet(),K.remove(J.SLIDE,this.onSlideEvent),K.remove(J.STOP,this.onStopShow),te.emit(U.STOPPED),Ke.set(!1)};static clear=()=>{D.get()?.clear()};static blackout=()=>{D.get()?.blackout()};static start=()=>{K.dispatch(J.START)};static stop=()=>{K.dispatch(J.STOP)};static next=()=>{const e=_e.get(),n=me.get();if(!n||!e)return;const r=H.getTab(n);if(!r)return;const i=e?e.split("/"):[],o=i[1]?r.get().data.songs.find(u=>u.title===i[1]):null,s=i[2]?parseInt(i[2]):null;if(!o||s==null)return;let l=s+1;l>=o.slides.length&&(l=0),K.dispatch(J.SLIDE,`${i[0]}/${i[1]}/${l}`)};static prev=()=>{const e=_e.get(),n=me.get();if(!n||!e)return;const r=H.getTab(n);if(!r)return;const i=e?e.split("/"):[],o=i[1]?r.get().data.songs.find(u=>u.title===i[1]):null,s=i[2]?parseInt(i[2]):null;if(!o||s==null)return;let l=s-1;l<0&&(l=o.slides.length-1),K.dispatch(J.SLIDE,`${i[0]}/${i[1]}/${l}`)};static nextGroup=()=>{const e=_e.get(),n=me.get();if(!n||!e)return;const r=H.getTab(n);if(!r)return;const i=r.get().data.songs,o=e?e.split("/"):[],s=o[1]?i.findIndex(c=>c.title===o[1]):null;if(s==null)return;let l=s+1;l>=i.length&&(l=0);const u=i[l]?.title;!u||K.dispatch(J.SLIDE,`${o[0]}/${u}/0`)};static prevGroup=()=>{const e=_e.get(),n=me.get();if(!n||!e)return;const r=H.getTab(n);if(!r)return;const i=r.get().data.songs,o=e?e.split("/"):[],s=o[1]?i.findIndex(c=>c.title===o[1]):null;if(s==null)return;let l=s-1;l<0&&(l=i.length-1);const u=i[l]?.title;!u||K.dispatch(J.SLIDE,`${o[0]}/${u}/0`)}}const Oi=/^Digit\d+$/i,Ni=()=>{const t=Te(s=>s.tabs),e=Te(s=>s.active),n=Ke.use(),r=Me.use(),i=Pe.use(),o=s=>{if(!!s.ctrlKey&&Oi.test(s.code)){s.preventDefault();let l=parseInt(s.key)-1;l===-1&&(l=9),H.move(l)}};return j(()=>(window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}),[]),T("div",{class:"Header",children:[T("div",{class:"nav",children:[d("div",{class:"tabs",children:t.map(s=>{const l=H.getTab(s);return!l||s===ce?null:d(vi,{tab:l},s)})}),d("div",{class:`add ${e.toString()===ce?"active":""}`,onClick:()=>{H.set({active:ce})},children:d(Pr,{})})]}),T("div",{class:"control",children:[d("div",{class:`stateButton ${n?r?"active":"":"disabled"}`,onClick:D.blackout,children:d("span",{children:"BL"})}),d("div",{class:`stateButton ${n?r?"pen active":i?"active":"":"disabled"}`,onClick:D.clear,children:d("span",{children:"CL"})}),d("div",{class:`present ${n?"isPresenting":""}`,onClick:()=>{n?D.stop():D.start()},children:d("span",{children:n?"Stop":"Start"})})]})]})};class Yt{static now=new Date;static hasPassed(e,n=!1){if(n)return this.now.getTime()>e.getTime();const r=new Date(e);r.setHours(0,0,0,0);const i=new Date;return i.setHours(0,0,0,0),i.getTime()>r.getTime()}static Full(e){let n=e.toLocaleString("da-DK",{month:"short",day:"2-digit",year:"numeric"}),r=/[a-z]+/i.exec(n);return r&&(n=n.replace(r[0],this.capitalize(r[0]))),n.replaceAll(/\. /g," ")}static capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}static getMonthNum(e){return e.getFullYear()*12+e.getMonth()}}const fr=()=>d("svg",{class:"spinner",viewBox:"0 0 50 50",children:d("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none","stroke-width":"5"})}),Ri=()=>{const t=async r=>{const i=r.currentTarget,o=i?.getAttribute("data-id");if(!o)return;const s=await ie.getEvent(o,!0);if(!s)return;const l=i?.querySelector(".evTitle")?.innerHTML;if(!l)return;const u=`tab.ourpraise.${o}`;H.map.has(u)?H.set({active:u}):(H.map.set(u,new et({id:u,title:l,data:s,type:Yn.SETLIST,active:"",custom:{}})),H.set({tabs:[...H.get().tabs,u],active:u}))},[e,n]=N([]);return j(()=>{const r=(o,s=!0)=>{const l=o.reduce((c,a)=>((c[a.organisationName]=c[a.organisationName]||[]).push(a),c),{}),u=Object.values(l).map(c=>{const a=c[0];return{events:c.slice(0,5),loading:s,name:a.organisationName}});u.sort((c,a)=>c.name.localeCompare(a.name)),n(u)},i=F.get("OurPraise.events");i&&r(i,!1),ie.getAllEvents().then(r)},[]),T("div",{class:"page NewTab",children:[d("div",{class:"title",children:"OurPresenter"}),d("div",{class:"events",children:e.map(r=>T("div",{class:"org",children:[T("div",{class:"orgName",children:[d("span",{children:r.name}),!r.loading&&d(fr,{})]}),r.events.map(i=>{const o=new Date(i.date);return T("div",{class:`event ${Yt.hasPassed(o)&&"passed"}`,"data-id":i.id,onClick:t,children:[d("span",{class:"evTitle",children:i.title||"NULL"}),d("span",{class:"evDate",children:Yt.Full(o)}),d("span",{class:"evLength",children:i.songs})]},i.id)})]},r.name))}),T("div",{class:"footer",children:[T("span",{children:["ver ",G.versions.client]}),G.isTau?T("span",{children:[G.versions.tauri," / ",G.versions.app]}):d(ve,{})]})]})};const Ii=/[^\S\r\n]{2,}/g,Wi=/\r?\n/;function hr(t){return t.replace(Ii," ")}function zi(t,e,n){const r=(n??document.createElement("canvas")).getContext("2d");if(!r)return-1;r.font=e;const i=t.split(Wi);let o=0;for(const s of i){const l=r.measureText(s);l.width>o&&(o=l.width)}return o}function je(t,e){return window.getComputedStyle(t,null).getPropertyValue(e)}function Fi(t=document.body){const e=je(t,"font-weight")||"normal",n=je(t,"font-size")||"16px",r=je(t,"font-family")||"Times New Roman";return`${e} ${n} ${r}`}const Di=({slide:t,listId:e,songId:n,index:r,...i})=>{const o=Te(m=>m.active),s=_e.use(),[l,u]=N({key:void 0,shift:!1,id:`${r}`}),[c,a]=N(!1);return j(()=>{let m=r+1,p=!1;m>10&&(p=!0,m-=10),m===10&&(m=0),m>10&&(m=void 0),u({key:m,shift:p,id:`${e}/${n}/${r}`})},[e,n,r]),j(()=>{},[o]),T("div",{...i,id:l.id,tabIndex:-1,role:"listitem",class:`slide ${s===l.id?"active":c?"subActive":""}`,children:[l.key!==void 0&&T("div",{class:"hotkey",children:[l.shift?d("li",{}):d(ve,{}),l.key]}),d("div",{class:"preview",children:d("div",{class:"textContent",children:d("div",{class:"inner",children:hr(t)})})})]})},Hi=/^Digit\d+$/i,ji=({song:t,index:e,listId:n})=>{const r=Q(null),i=Q(null);j(()=>{const s=r.current?[...r.current.children].filter(u=>u.getAttribute("role")==="listitem"&&u.getAttribute("tabindex")==="-1"):[],l=u=>{if(!!r.current&&Hi.test(u.code)){let c=parseInt(u.key)-1;c===-1&&(c=9),u.shiftKey&&(c=10),c>s.length-1&&(c=s.length-1),c<0&&(c=0);const a=s[c];a&&(a==document.activeElement?a.click():a.focus())}};return i.current&&i.current.addEventListener("keydown",l),function(){i.current&&i.current.removeEventListener("keydown",l)}},[]);const o=s=>{K.dispatch(J.SLIDE,s.currentTarget.id)};return T("div",{class:"SongComponent",ref:i,tabIndex:0,role:"list",children:[T("div",{class:"title",children:[e&&`#${e} `,t.title]}),d("div",{class:"slides",ref:r,children:t.slides.map((s,l)=>d(Di,{slide:s,index:l,listId:n,songId:t.title,onClick:o},`${t.title}_sld${l}`))})]})},Ui=({id:t})=>{const e=H.getTab(t);if(!e)return null;const n=e.use(r=>r.data);return d("div",{class:"page SongsGroup",children:n.songs.map((r,i)=>d(ji,{song:r,listId:t,index:i+1},r.title))},`${t}/group`)};const Bi={sidebarWidth:200,sidebar:null};class qi extends Qe{constructor(){super(Bi,{id:"settings"})}openMusic=()=>{this.set({sidebar:"music"})};openSettings=()=>{this.set({sidebar:"settings"})};close=()=>{this.set({sidebar:null})}}const re=new qi,Xt=({id:t,icon:e})=>{const n=re.use(r=>r.sidebar);return d("div",{class:`SidebarTab ${t===n?"active":""}`,"data-id":t,onClick:()=>{re.set({sidebar:t===n?null:t})},children:e},t)},Vi=()=>T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[d("circle",{cx:"12",cy:"12",r:"3"}),d("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]});const kt=({className:t,label:e,defaultValue:n,onChange:r,inputRef:i,type:o,autoComplete:s="off",...l})=>{const[u,c]=N(n??"");return j(()=>{r&&r(u)},[u]),d("input",{...l,class:`Input ${t}`,autoComplete:s??"off",type:o??"text",ref:i,value:u,"aria-label":e,onChange:a=>{c(a?.target?.value??"")},onKeyUp:a=>{c(a?.target?.value??"")}})},Ki=({className:t,label:e,defaultValue:n,onChange:r,inputRef:i,type:o,...s})=>{const[l,u]=N(n??!1);return j(()=>{r&&r(l)},[l]),T("div",{className:"CheckboxInput",children:[d("input",{...s,class:`Input ${t}`,type:"checkbox",ref:i,checked:l,"aria-label":e,onChange:c=>{u(c?.target?.checked??!1)},onKeyUp:c=>{u(c?.target?.checked??!1)}}),d("label",{className:"CustomCheckbox",for:s.id})]})},Gi=({className:t,label:e,defaultValue:n,onChange:r,inputRef:i,type:o="text",options:s,...l})=>{const[u,c]=N(s.find(a=>a.value===n||a.selected)?.value??(o==="number"?0:""));return j(()=>{r&&r(u)},[u]),d("select",{...l,class:`Input ${t}`,ref:i,"aria-label":e,onChange:a=>{c(a?.target?.value??"")},children:s.map(a=>a.label?X("option",{...a,key:a.value,selected:a.value===u},a.label):null)})},Ji=t=>T("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d("polyline",{points:"17 8 12 3 7 8"}),d("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),Yi=({className:t,defaultValue:e,onChange:n,acceptFiles:r,...i})=>{const[o,s]=N(e??null),l=Q(null),u=Q(null),c=Q(new FileReader);j(()=>{n&&n(o)},[o]),j(()=>(c.current.addEventListener("load",m),function(){c.current.removeEventListener("load",m)}),[c]);const a=f=>{f.preventDefault(),l.current=null,s(null)},m=f=>{f.target?.result&&l.current?s({lastModified:l.current?.lastModified,name:l.current?.name,type:l.current?.type,data:f.target?.result}):s(null)},p=()=>{c.current&&u.current?.files&&u.current?.files[0]?(l.current=u.current?.files[0],c.current.readAsDataURL(l.current)):l.current=null};return T("div",{className:"FileInput",children:[d(kt,{...i,inputRef:u,type:"file",accept:r??"image/jpeg, image/png, image/jpg",value:o?.name,"data-value":o?.name??"none",onChange:p}),T("label",{className:"CustomFile",for:i.id,children:[d(Ji,{}),d("span",{children:o?.name??"No file chosen"}),d(Xn,{className:"clear",onClick:a})]})]})},we=({setting:t,id:e,title:n,type:r="text",options:i,acceptFiles:o,...s})=>{const l=ee.use(p=>p[t.key]),u=r==="checkbox"?Ki:kt,c=e??n.toLowerCase().replaceAll(/\W+/g,"-"),a=Ne[t.key],m=p=>{ee.set(()=>{let f=p;return r==="number"?f=parseFloat(p):r==="checkbox"?f=p??a:f=p||a,{[t.key]:f}}),D.get()?.updateStyle()};return T("div",{class:"SettingComponent",children:[d("label",{for:c,children:n}),o?d(Yi,{label:n,id:c,defaultValue:l,placeholder:a,onChange:m,acceptFiles:o,...s}):i?d(Gi,{label:n,id:c,defaultValue:l,placeholder:a,onChange:m,options:i,...s}):d(u,{label:n,id:c,type:r,defaultValue:l,placeholder:a,onChange:m,...s})]})},Xi=()=>T("div",{class:"SettingsModule",children:[d("div",{class:"title",children:"Settings"}),d(we,{title:"Background",type:"file",acceptFiles:"image/jpeg, image/png, image/jpg",setting:ee.keys.background}),d(we,{title:"Font",setting:ee.keys.font}),d(we,{title:"Foreground",setting:ee.keys.foreground}),d(we,{title:"Scale",type:"number",step:"0.1",min:"0.1",max:"5",setting:ee.keys.scale}),d(we,{title:"Auto-scale text down",type:"checkbox",setting:ee.keys.autoScale}),d(we,{title:"Text position",type:"number",step:"0.1",min:"0",max:"1",setting:ee.keys.position})]});const Zi=({className:t,defaultValue:e,onChange:n,...r})=>{const[i,o]=N(e??""),s=Q(null);return j(()=>(n&&(s.current=window.setTimeout(()=>{n(i.trim())},400)),function(){s.current&&window.clearTimeout(s.current)}),[i]),d(kt,{...r,class:`SearchInput ${t}`,value:i,onChange:l=>o(l.trimStart())})},Qi=()=>{const[t,e]=N(""),[n,r]=N([]),i=Te(u=>u.active),o=H.getTab(i),s=u=>{e(u.trim())};j(()=>{t&&ie?.search(t).then(u=>{u.query===t&&(e(""),r(u.hits))})},[t]);const l=u=>{!o||o.get().data.songs.some(c=>c.id===u)||o.get().custom.songs?.some(c=>c.id===u)||ie?.getSong(u).then(c=>{const a=o.get().data.songs;a.push(c),o.set({data:{...o.get().data,songs:a}})}).catch(c=>{console.error(c)})};return T("div",{class:"AddMusicModule",children:[d("div",{class:"title",children:"Songs"}),d(Zi,{label:"Search songs",placeholder:"Search songs",onChange:s}),!!t&&d(fr,{}),!t&&n&&d("div",{class:"searchResults",children:n.map(u=>{if(u._highlightResult.title.matchLevel)return T("div",{class:"result",onClick:()=>{o&&l(u.objectID)},children:[d("div",{class:"name",dangerouslySetInnerHTML:{__html:u._highlightResult.title.value}}),d("div",{class:"author",dangerouslySetInnerHTML:{__html:u._highlightResult.authors.value}}),d("div",{class:"icon"})]},u.path)})})]})},eo=()=>{const t=re.use(l=>l.sidebar),e=re.use(l=>l.sidebarWidth),n=Q(0),r=Q(!1),i=()=>{r.current=!0},o=()=>{r.current=!1,n.current=0},s=l=>{if(!r.current)return;let u=re.get().sidebarWidth+l.movementX;u<100&&(u=100),u>800&&(u=800),re.set({sidebarWidth:u})};return j(()=>(document.addEventListener("mouseup",o),document.addEventListener("mousemove",s,!1),function(){document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",s,!1),re.set({sidebarWidth:e})}),[]),T("div",{class:"Sidebar",children:[T("div",{class:"tabs",children:[d(Xt,{id:"music",icon:d(Cn,{})}),d(Xt,{id:"settings",icon:d(Vi,{})})]}),t?T("div",{class:"content",style:{width:`${e}px`},children:[t==="settings"?d(Xi,{}):t==="music"?d(Qi,{}):d(ve,{}),d("div",{class:"resizer",onMouseDown:i,onMouseUp:o,onMouseMove:s})]}):d(ve,{})]})},to=[{name:"Next tab",call:H.next,keybind:"ctrl+tab"},{name:"Previous tab",call:H.prev,keybind:"ctrl+shift+tab"},{name:"Next slide",call:D.next,keybind:"right"},{name:"Previous slide",call:D.prev,keybind:"left"},{name:"Next slide group",call:D.nextGroup,keybind:"shift+right"},{name:"Previous slide group",call:D.prevGroup,keybind:"shift+left"},{name:"Toggle cleared content",call:D.clear,keybind:"esc"},{name:"Toggle blackout",call:D.blackout,keybind:"shift+esc"},{name:"Hide sidemenu",call:re.close,keybind:"meta+b"},{name:"Start presentation",call:D.start,keybind:"f2"},{name:"Stop presentation",call:D.stop},{name:"Search songs",call:re.openMusic,keybind:"meta+l"},{name:"Settings",call:re.openSettings,keybind:"meta+,"}];var _r={exports:{}};(function(t){(function(e,n,r){if(!e)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u,c=1;c<20;++c)i[111+c]="f"+c;for(c=0;c<=9;++c)i[c+96]=c.toString();function a(h,y,$){if(h.addEventListener){h.addEventListener(y,$,!1);return}h.attachEvent("on"+y,$)}function m(h){if(h.type=="keypress"){var y=String.fromCharCode(h.which);return h.shiftKey||(y=y.toLowerCase()),y}return i[h.which]?i[h.which]:o[h.which]?o[h.which]:String.fromCharCode(h.which).toLowerCase()}function p(h,y){return h.sort().join(",")===y.sort().join(",")}function f(h){var y=[];return h.shiftKey&&y.push("shift"),h.altKey&&y.push("alt"),h.ctrlKey&&y.push("ctrl"),h.metaKey&&y.push("meta"),y}function b(h){if(h.preventDefault){h.preventDefault();return}h.returnValue=!1}function R(h){if(h.stopPropagation){h.stopPropagation();return}h.cancelBubble=!0}function C(h){return h=="shift"||h=="ctrl"||h=="alt"||h=="meta"}function P(){if(!u){u={};for(var h in i)h>95&&h<112||i.hasOwnProperty(h)&&(u[i[h]]=h)}return u}function W(h,y,$){return $||($=P()[h]?"keydown":"keypress"),$=="keypress"&&y.length&&($="keydown"),$}function ae(h){return h==="+"?["+"]:(h=h.replace(/\+{2}/g,"+plus"),h.split("+"))}function q(h,y){var $,z,de,he=[];for($=ae(h),de=0;de<$.length;++de)z=$[de],l[z]&&(z=l[z]),y&&y!="keypress"&&s[z]&&(z=s[z],he.push("shift")),C(z)&&he.push(z);return y=W(z,he,y),{key:z,modifiers:he,action:y}}function k(h,y){return h===null||h===n?!1:h===y?!0:k(h.parentNode,y)}function A(h){var y=this;if(h=h||n,!(y instanceof A))return new A(h);y.target=h,y._callbacks={},y._directMap={};var $={},z,de=!1,he=!1,tt=!1;function nt(S){S=S||{};var M=!1,O;for(O in $){if(S[O]){M=!0;continue}$[O]=0}M||(tt=!1)}function Ct(S,M,O,E,I,le){var L,V,be=[],pe=O.type;if(!y._callbacks[S])return[];for(pe=="keyup"&&C(S)&&(M=[S]),L=0;L<y._callbacks[S].length;++L)if(V=y._callbacks[S][L],!(!E&&V.seq&&$[V.seq]!=V.level)&&pe==V.action&&(pe=="keypress"&&!O.metaKey&&!O.ctrlKey||p(M,V.modifiers))){var vr=!E&&V.combo==I,yr=E&&V.seq==E&&V.level==le;(vr||yr)&&y._callbacks[S].splice(L,1),be.push(V)}return be}function rt(S,M,O,E){y.stopCallback(M,M.target||M.srcElement,O,E)||S(M,O)===!1&&(b(M),R(M))}y._handleKey=function(S,M,O){var E=Ct(S,M,O),I,le={},L=0,V=!1;for(I=0;I<E.length;++I)E[I].seq&&(L=Math.max(L,E[I].level));for(I=0;I<E.length;++I){if(E[I].seq){if(E[I].level!=L)continue;V=!0,le[E[I].seq]=1,rt(E[I].callback,O,E[I].combo,E[I].seq);continue}V||rt(E[I].callback,O,E[I].combo)}var be=O.type=="keypress"&&he;O.type==tt&&!C(S)&&!be&&nt(le),he=V&&O.type=="keydown"};function it(S){typeof S.which!="number"&&(S.which=S.keyCode);var M=m(S);if(!!M){if(S.type=="keyup"&&de===M){de=!1;return}y.handleKey(M,f(S),S)}}function mr(){clearTimeout(z),z=setTimeout(nt,1e3)}function gr(S,M,O,E){$[S]=0;function I(pe){return function(){tt=pe,++$[S],mr()}}function le(pe){rt(O,pe,S),E!=="keyup"&&(de=m(pe)),setTimeout(nt,10)}for(var L=0;L<M.length;++L){var V=L+1===M.length,be=V?le:I(E||q(M[L+1]).action);Tt(M[L],be,E,S,L)}}function Tt(S,M,O,E,I){y._directMap[S+":"+O]=M,S=S.replace(/\s+/g," ");var le=S.split(" "),L;if(le.length>1){gr(S,le,M,O);return}L=q(S,O),y._callbacks[L.key]=y._callbacks[L.key]||[],Ct(L.key,L.modifiers,{type:L.action},E,S,I),y._callbacks[L.key][E?"unshift":"push"]({callback:M,modifiers:L.modifiers,action:L.action,seq:E,level:I,combo:S})}y._bindMultiple=function(S,M,O){for(var E=0;E<S.length;++E)Tt(S[E],M,O)},a(h,"keypress",it),a(h,"keydown",it),a(h,"keyup",it)}A.prototype.bind=function(h,y,$){var z=this;return h=h instanceof Array?h:[h],z._bindMultiple.call(z,h,y,$),z},A.prototype.unbind=function(h,y){var $=this;return $.bind.call($,h,function(){},y)},A.prototype.trigger=function(h,y){var $=this;return $._directMap[h+":"+y]&&$._directMap[h+":"+y]({},h),$},A.prototype.reset=function(){var h=this;return h._callbacks={},h._directMap={},h},A.prototype.stopCallback=function(h,y){var $=this;if((" "+y.className+" ").indexOf(" mousetrap ")>-1||k(y,$.target))return!1;if("composedPath"in h&&typeof h.composedPath=="function"){var z=h.composedPath()[0];z!==h.target&&(y=z)}return y.tagName=="INPUT"||y.tagName=="SELECT"||y.tagName=="TEXTAREA"||y.isContentEditable},A.prototype.handleKey=function(){var h=this;return h._handleKey.apply(h,arguments)},A.addKeycodes=function(h){for(var y in h)h.hasOwnProperty(y)&&(i[y]=h[y]);u=null},A.init=function(){var h=A(n);for(var y in h)y.charAt(0)!=="_"&&(A[y]=function($){return function(){return h[$].apply(h,arguments)}}(y))},A.init(),e.Mousetrap=A,t.exports&&(t.exports=A),typeof r=="function"&&r.amd&&r(function(){return A})})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(_r);var Fe=_r.exports;class Zt{static init(){Fe.reset();for(const e of to)e.keybind&&(console.log("bind",e.keybind,e.name),Fe.bind(e.keybind,e.call,e.keybindAction));Fe.bind("meta+p",this.openCommandCenter)}static destroy(){Fe.reset()}static openCommandCenter(){}}const no=()=>{const t=Te(n=>n.active),e=()=>{new D};return j(()=>(K.listen(J.START,e),Zt.init(),function(){K.remove(J.START,e),Zt.destroy()}),[]),T("div",{class:"Control",children:[d(eo,{}),T("div",{class:"main",children:[d(Ni,{}),t==ce?d(Ri,{}):d(Ui,{id:t})]})]})};const ro=/\r?\n/,io=({text:t,fontSize:e,parentRef:n,autoScale:r=!0})=>{const[i,o]=N(1),[s,l]=N(""),u=Q(null);return j(()=>{if(u.current){const c=n??u.current.parentElement;if(c){const a=getComputedStyle(c),m=c.clientWidth,p=parseInt(a.maxHeight)-parseInt(a.marginTop)-parseInt(a.marginBottom),f=t.split(ro).length,b=parseInt(je(u.current,"line-height")||"1.2em"),R=zi(t,Fi(u.current)),C=b*f;let P=1;if(R>m){const W=m/R;W<P&&(P=W)}if(C>p){const W=p/C;W<P&&(P=W)}o(P),l(t)}}},[t]),d("div",{class:"text",ref:u,style:{transform:`scale(${r?i:1})`,fontSize:e,whiteSpace:r?"pre":"pre-wrap"},children:s})},oo=({data:t,style:e})=>{if(!t)return null;const n=(o,s,l)=>Math.min(Math.max(o,s),l),r=Q(null),i=n(e.position,0,1);return d("div",{class:"PresentWrapper",style:{backgroundImage:e.background?`url(${e.background.data})`:null},children:d("div",{class:"PresentingContent",ref:r,style:{color:e.foreground,fontFamily:e.font,marginTop:i>.5?"auto":null,minHeight:`${100-100*Math.abs(i-.5)}vh`},children:d(io,{text:hr(t),fontSize:`${n(e.scale,.1,5)}em`,parentRef:r.current,autoScale:e.autoScale})})})},so=()=>{const[t,e]=N(null),[n,r]=N(Ne),[i,o]=N(!0),[s,l]=N(!0);return j(()=>{const u=k=>{const A=G.isTau?k.payload:k.payload?JSON.parse(k.payload):null;(A!==null||A!=="")&&(o(!1),l(!1)),e(A)},c=k=>{const A=k.payload?JSON.parse(k.payload):null;A&&r(A)},a=()=>{o(k=>!k)},m=()=>{l(k=>!k)},p=k=>{!G.isTau||te.setAlwaysOnTop(k?.payload??!1)},f=k=>{if(G.isTau&&k.payload){const A=fe.getByLabel("control");A&&A.setFocus()}};let b=()=>null,R=()=>null,C=()=>null,P=()=>null,W=()=>null,ae=()=>null;const q=k=>{k.data.event===U.PRESENT?u(k.data):k.data.event===U.STYLE?c(k.data):k.data.event===U.CLEAR?a():k.data.event===U.BLACKOUT&&m()};return(async()=>{if(G.isTau){const k=fe.getByLabel("control");k&&(b=await k.listen(U.PRESENT,u),R=await k.listen(U.STYLE,c),C=await k.listen(U.CLEAR,a),P=await k.listen(U.BLACKOUT,m),W=await k.onFocusChanged(p),ae=await te.onFocusChanged(f))}else window.addEventListener("message",q,!1),b=()=>window.removeEventListener("message",q)})(),function(){b(),R(),C(),P(),W(),ae()}},[]),!t||s||i?d("div",{class:"PresentWrapper",style:{backgroundImage:s||!n.background?null:`url(${n.background.data})`},children:d("div",{class:"Present"})}):d(oo,{data:t,style:n})};try{self["workbox:window:6.5.2"]&&_()}catch{}function ft(t,e){return new Promise(function(n){var r=new MessageChannel;r.port1.onmessage=function(i){n(i.data)},t.postMessage(e,[r.port2])})}function ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qt(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lo(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=function(i,o){if(i){if(typeof i=="string")return Qt(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Qt(i,o):void 0}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var st=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function at(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var Ee=function(t,e){this.type=t,Object.assign(this,e)};function De(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function co(){}var uo={type:"SKIP_WAITING"};function en(t,e){if(!e)return t&&t.then?t.then(co):Promise.resolve()}var po=function(t){var e,n;function r(l,u){var c,a;return u===void 0&&(u={}),(c=t.call(this)||this).nn={},c.tn=0,c.rn=new st,c.en=new st,c.on=new st,c.un=0,c.an=new Set,c.cn=function(){var m=c.fn,p=m.installing;c.tn>0||!at(p.scriptURL,c.sn.toString())||performance.now()>c.un+6e4?(c.vn=p,m.removeEventListener("updatefound",c.cn)):(c.hn=p,c.an.add(p),c.rn.resolve(p)),++c.tn,p.addEventListener("statechange",c.ln)},c.ln=function(m){var p=c.fn,f=m.target,b=f.state,R=f===c.vn,C={sw:f,isExternal:R,originalEvent:m};!R&&c.mn&&(C.isUpdate=!0),c.dispatchEvent(new Ee(b,C)),b==="installed"?c.wn=self.setTimeout(function(){b==="installed"&&p.waiting===f&&c.dispatchEvent(new Ee("waiting",C))},200):b==="activating"&&(clearTimeout(c.wn),R||c.en.resolve(f))},c.dn=function(m){var p=c.hn,f=p!==navigator.serviceWorker.controller;c.dispatchEvent(new Ee("controlling",{isExternal:f,originalEvent:m,sw:p,isUpdate:c.mn})),f||c.on.resolve(p)},c.gn=(a=function(m){var p=m.data,f=m.ports,b=m.source;return De(c.getSW(),function(){c.an.has(b)&&c.dispatchEvent(new Ee("message",{data:p,originalEvent:m,ports:f,sw:b}))})},function(){for(var m=[],p=0;p<arguments.length;p++)m[p]=arguments[p];try{return Promise.resolve(a.apply(this,m))}catch(f){return Promise.reject(f)}}),c.sn=l,c.nn=u,navigator.serviceWorker.addEventListener("message",c.gn),c}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,o,s=r.prototype;return s.register=function(l){var u=(l===void 0?{}:l).immediate,c=u!==void 0&&u;try{var a=this;return function(m,p){var f=m();return f&&f.then?f.then(p):p(f)}(function(){if(!c&&document.readyState!=="complete")return en(new Promise(function(m){return window.addEventListener("load",m)}))},function(){return a.mn=Boolean(navigator.serviceWorker.controller),a.yn=a.pn(),De(a.bn(),function(m){a.fn=m,a.yn&&(a.hn=a.yn,a.en.resolve(a.yn),a.on.resolve(a.yn),a.yn.addEventListener("statechange",a.ln,{once:!0}));var p=a.fn.waiting;return p&&at(p.scriptURL,a.sn.toString())&&(a.hn=p,Promise.resolve().then(function(){a.dispatchEvent(new Ee("waiting",{sw:p,wasWaitingBeforeRegister:!0}))}).then(function(){})),a.hn&&(a.rn.resolve(a.hn),a.an.add(a.hn)),a.fn.addEventListener("updatefound",a.cn),navigator.serviceWorker.addEventListener("controllerchange",a.dn),a.fn})})}catch(m){return Promise.reject(m)}},s.update=function(){try{return this.fn?en(this.fn.update()):void 0}catch(l){return Promise.reject(l)}},s.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},s.messageSW=function(l){try{return De(this.getSW(),function(u){return ft(u,l)})}catch(u){return Promise.reject(u)}},s.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&ft(this.fn.waiting,uo)},s.pn=function(){var l=navigator.serviceWorker.controller;return l&&at(l.scriptURL,this.sn.toString())?l:void 0},s.bn=function(){try{var l=this;return function(u,c){try{var a=u()}catch(m){return c(m)}return a&&a.then?a.then(void 0,c):a}(function(){return De(navigator.serviceWorker.register(l.sn,l.nn),function(u){return l.un=performance.now(),u})},function(u){throw u})}catch(u){return Promise.reject(u)}},i=r,(o=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&ao(i.prototype,o),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(n,r){this.Sn(n).add(r)},e.removeEventListener=function(n,r){this.Sn(n).delete(r)},e.dispatchEvent=function(n){n.target=this;for(var r,i=lo(this.Sn(n.type));!(r=i()).done;)(0,r.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},t}());function fo(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:o}=t;let s,l;const u=async(c=!0)=>{c&&s?.addEventListener("controlling",a=>{a.isUpdate&&window.location.reload()}),l&&l.waiting&&await ft(l.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){s=new po("/sermon-presenter/sw.js",{scope:"/sermon-presenter/",type:"classic"}),s.addEventListener("activated",c=>{c.isUpdate||r?.()});{const c=()=>{n?.()};s.addEventListener("waiting",c),s.addEventListener("externalwaiting",c)}s.register({immediate:e}).then(c=>{l=c,i?.(c)}).catch(c=>{o?.(c)})}return u}function ho(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisterError:o}=t,[s,l]=N(!1),[u,c]=N(!1),[a]=N(()=>fo({immediate:e,onOfflineReady(){c(!0),r?.()},onNeedRefresh(){l(!0),n?.()},onRegistered:i,onRegisterError:o}));return{needRefresh:[s,l],offlineReady:[u,c],updateServiceWorker:a}}function _o(){const{offlineReady:[t],needRefresh:[e],updateServiceWorker:n}=ho({onRegistered(r){console.log("SW Registered: "+r)},onRegisterError(r){console.log("SW registration error",r)}});return j(()=>{(!t||e)&&n(!0)},[t,e]),d(ve,{})}const mo=()=>{const[t,e]=N(d(ve,{}));return j(()=>{const n=()=>{F.clean(),G.getLabel()==="present"?e(d(so,{})):e(d(no,{}))},r=()=>{console.error("Failed to initialize Tauri client"),n()};return G.init().then(n).catch(r),function(){}},[]),T(ve,{children:[t,d(_o,{})]})};ge(d(mo,{}),document.getElementById("wrapper"));
